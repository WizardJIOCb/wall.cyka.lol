{"version":3,"file":"AIGenerateView-BBQ_aHZH.js","sources":["../../frontend/src/views/AIGenerateView.vue"],"sourcesContent":["<template>\n  <div class=\"ai-generate-view\">\n    <!-- Job Status Display (if viewing existing job) -->\n    <div v-if=\"currentJob && currentJob.status !== 'completed'\" class=\"job-status-section\">\n      <div class=\"status-card\">\n        <div class=\"status-header\">\n          <h2>ü§ñ AI Generation in Progress</h2>\n          <button @click=\"cancelJob\" class=\"btn-danger-sm\">Cancel</button>\n        </div>\n        \n        <div class=\"progress-info\">\n          <div class=\"progress-bar\">\n            <div class=\"progress-fill\" :style=\"{ width: `${jobProgress}%` }\"></div>\n          </div>\n          <p class=\"progress-text\">{{ jobStatusText }}</p>\n        </div>\n\n        <div v-if=\"currentJob.queue_position > 0\" class=\"queue-info\">\n          <span class=\"icon\">‚è≥</span>\n          <span>Position {{ currentJob.queue_position }} in queue</span>\n        </div>\n\n        <div class=\"job-details\">\n          <p><strong>Prompt:</strong> {{ currentJob.prompt }}</p>\n          <p><strong>Status:</strong> {{ currentJob.status }}</p>\n          <p><strong>Started:</strong> {{ formatDate(currentJob.created_at) }}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Generation Result (if completed) -->\n    <div v-else-if=\"currentJob && currentJob.status === 'completed'\" class=\"result-section\">\n      <div class=\"result-header\">\n        <h2>‚úÖ Generation Complete!</h2>\n        <div class=\"result-actions\">\n          <button @click=\"downloadApp\" class=\"btn-secondary\">\n            <span class=\"icon\">üì•</span>\n            <span>Download</span>\n          </button>\n          <button @click=\"publishApp\" class=\"btn-primary\">\n            <span class=\"icon\">üì§</span>\n            <span>Publish</span>\n          </button>\n          <button @click=\"remixApp\" class=\"btn-secondary\">\n            <span class=\"icon\">üîÑ</span>\n            <span>Remix</span>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"app-preview\">\n        <iframe\n          v-if=\"currentJob.result_url\"\n          :src=\"currentJob.result_url\"\n          class=\"preview-frame\"\n          sandbox=\"allow-scripts allow-forms\"\n        ></iframe>\n        <div v-else class=\"preview-placeholder\">\n          <p>Preview not available</p>\n        </div>\n      </div>\n\n      <div class=\"code-viewer\">\n        <div class=\"code-header\">\n          <h3>Generated Code</h3>\n          <button @click=\"copyCode\" class=\"btn-copy\">Copy</button>\n        </div>\n        <pre class=\"code-content\">{{ currentJob.generated_code || 'Code not available' }}</pre>\n      </div>\n    </div>\n\n    <!-- New Generation Form -->\n    <div v-else class=\"generation-form\">\n      <div class=\"form-header\">\n        <h1>{{ $t('navigation.aiGenerate') }}</h1>\n        <p class=\"subtitle\">Describe your web application and let AI build it for you</p>\n      </div>\n\n      <div class=\"prompt-section\">\n        <label class=\"form-label\">\n          <span>Prompt</span>\n          <span class=\"char-count\">{{ promptText.length }}/2000</span>\n        </label>\n        <textarea\n          v-model=\"promptText\"\n          class=\"prompt-input\"\n          placeholder=\"Example: Create a simple todo list app with add, delete, and mark as complete functionality. Use a clean, modern design with blue colors.\"\n          rows=\"6\"\n          maxlength=\"2000\"\n          @input=\"calculateCost\"\n        ></textarea>\n        \n        <div class=\"prompt-tips\">\n          <p><strong>Tips for better results:</strong></p>\n          <ul>\n            <li>Be specific about functionality and features</li>\n            <li>Describe the design style and colors</li>\n            <li>Mention any specific technologies if needed</li>\n            <li>Keep it under 2000 characters</li>\n          </ul>\n        </div>\n      </div>\n\n      <div class=\"options-section\">\n        <div class=\"option-group\">\n          <label class=\"form-label\">Model</label>\n          <select v-model=\"selectedModel\" class=\"form-select\" @change=\"calculateCost\">\n            <option value=\"deepseek-coder\">DeepSeek Coder (Recommended)</option>\n            <option value=\"llama-coder\">Llama Coder</option>\n            <option value=\"codellama\">CodeLlama</option>\n          </select>\n        </div>\n\n        <div class=\"option-group\">\n          <label class=\"form-label\">Priority</label>\n          <select v-model=\"priority\" class=\"form-select\" @change=\"calculateCost\">\n            <option value=\"normal\">Normal (Free)</option>\n            <option value=\"high\">High (+50 üß±)</option>\n            <option value=\"urgent\">Urgent (+150 üß±)</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"cost-section\">\n        <div class=\"cost-display\">\n          <span class=\"cost-label\">Estimated Cost:</span>\n          <span class=\"cost-value\">{{ estimatedCost }} üß±</span>\n        </div>\n        <div class=\"balance-display\">\n          <span>Your Balance:</span>\n          <span class=\"balance-value\">{{ bricksBalance }} üß±</span>\n        </div>\n        <p v-if=\"estimatedCost > bricksBalance\" class=\"warning-text\">\n          ‚ö†Ô∏è Insufficient bricks. You need {{ estimatedCost - bricksBalance }} more bricks.\n        </p>\n      </div>\n\n      <button\n        @click=\"submitGeneration\"\n        :disabled=\"!canGenerate || generating\"\n        class=\"btn-generate\"\n      >\n        {{ generating ? 'Submitting...' : 'Generate Application' }}\n      </button>\n    </div>\n\n    <!-- Generation History -->\n    <div class=\"history-section\">\n      <h2>Recent Generations</h2>\n      \n      <div v-if=\"loadingHistory\" class=\"loading-container\">\n        <div class=\"spinner\"></div>\n      </div>\n\n      <div v-else-if=\"history.length === 0\" class=\"empty-state\">\n        <p>No generation history yet</p>\n      </div>\n\n      <div v-else class=\"history-grid\">\n        <div\n          v-for=\"item in history\"\n          :key=\"item.job_id\"\n          class=\"history-card\"\n          @click=\"loadJob(item.job_id)\"\n        >\n          <div class=\"history-status\" :class=\"item.status\">\n            {{ getStatusIcon(item.status) }}\n          </div>\n          <div class=\"history-content\">\n            <p class=\"history-prompt\">{{ truncate(item.prompt, 100) }}</p>\n            <div class=\"history-meta\">\n              <span class=\"history-status-text\">{{ item.status }}</span>\n              <span class=\"history-date\">{{ formatDate(item.created_at) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useAuthStore } from '@/stores/auth'\nimport apiClient from '@/services/api/client'\n\nconst props = defineProps<{ jobId?: string }>()\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst authStore = useAuthStore()\nconst promptText = ref('')\nconst selectedModel = ref('deepseek-coder')\nconst priority = ref('normal')\nconst estimatedCost = ref(100)\nconst bricksBalance = ref(authStore.user?.bricks_balance || 0)\nconst generating = ref(false)\nconst currentJob = ref<any>(null)\nconst history = ref<any[]>([])\nconst loadingHistory = ref(false)\nlet pollInterval: any = null\n\nconst canGenerate = computed(() => {\n  return promptText.value.length > 0 && estimatedCost.value <= bricksBalance.value\n})\n\nconst jobProgress = computed(() => {\n  if (!currentJob.value) return 0\n  const statusProgress: Record<string, number> = {\n    queued: 10,\n    analyzing: 30,\n    generating: 60,\n    finalizing: 90,\n    completed: 100,\n    failed: 0\n  }\n  return statusProgress[currentJob.value.status] || 0\n})\n\nconst jobStatusText = computed(() => {\n  if (!currentJob.value) return ''\n  const statusTexts: Record<string, string> = {\n    queued: 'Waiting in queue...',\n    analyzing: 'Analyzing your prompt...',\n    generating: 'Generating code...',\n    finalizing: 'Finalizing application...',\n    completed: 'Generation complete!',\n    failed: 'Generation failed'\n  }\n  return statusTexts[currentJob.value.status] || 'Processing...'\n})\n\nconst calculateCost = () => {\n  let baseCost = 100\n  const charMultiplier = Math.ceil(promptText.value.length / 200)\n  const priorityCosts = { normal: 0, high: 50, urgent: 150 }\n  \n  estimatedCost.value = baseCost + (charMultiplier * 10) + priorityCosts[priority.value as keyof typeof priorityCosts]\n}\n\nconst formatDate = (dateString: string) => {\n  const date = new Date(dateString)\n  return date.toLocaleString()\n}\n\nconst truncate = (text: string, length: number) => {\n  return text.length > length ? text.substring(0, length) + '...' : text\n}\n\nconst getStatusIcon = (status: string) => {\n  const icons: Record<string, string> = {\n    queued: '‚è≥',\n    analyzing: 'üîç',\n    generating: '‚öôÔ∏è',\n    finalizing: 'üîß',\n    completed: '‚úÖ',\n    failed: '‚ùå'\n  }\n  return icons[status] || 'üìù'\n}\n\nconst loadBricksBalance = async () => {\n  try {\n    // Refresh user data to get latest balance\n    const userResponse = await apiClient.get('/auth/me')\n    if (userResponse.success && userResponse.data.user) {\n      authStore.updateUser(userResponse.data.user)\n      bricksBalance.value = userResponse.data.user.bricks_balance || 0\n    }\n  } catch (err) {\n    console.error('Error loading bricks balance:', err)\n  }\n}\n\nconst loadHistory = async () => {\n  try {\n    loadingHistory.value = true\n    const response = await apiClient.get('/ai/history?limit=10')\n    if (response.data.success && response.data.data.jobs) {\n      history.value = response.data.data.jobs\n    }\n  } catch (err) {\n    console.error('Error loading history:', err)\n  } finally {\n    loadingHistory.value = false\n  }\n}\n\nconst submitGeneration = async () => {\n  try {\n    generating.value = true\n    \n    const response = await apiClient.post('/ai/generate', {\n      prompt: promptText.value,\n      model: selectedModel.value,\n      priority: priority.value\n    })\n\n    console.log('AI Generate Response:', response)\n\n    if (response.success && response.data?.job) {\n      currentJob.value = response.data.job\n      // Refresh balance after deduction\n      await loadBricksBalance()\n      \n      // Redirect to user's wall to see the post with generation progress\n      router.push('/wall/me')\n    }\n  } catch (err: any) {\n    console.error('Generation error:', err)\n    alert(err.response?.data?.message || 'Failed to start generation')\n  } finally {\n    generating.value = false\n  }\n}\n\nconst loadJob = async (jobId?: string) => {\n  try {\n    const id = jobId || props.jobId\n    if (!id) return\n\n    const response = await apiClient.get(`/ai/jobs/${id}`)\n    if (response.data.success && response.data.data.job) {\n      currentJob.value = response.data.data.job\n      \n      if (currentJob.value.status !== 'completed' && currentJob.value.status !== 'failed') {\n        startPolling()\n      }\n    }\n  } catch (err) {\n    console.error('Error loading job:', err)\n  }\n}\n\nconst startPolling = () => {\n  if (pollInterval) return\n  \n  pollInterval = setInterval(async () => {\n    if (currentJob.value && (currentJob.value.status === 'completed' || currentJob.value.status === 'failed')) {\n      stopPolling()\n      return\n    }\n    \n    await loadJob()\n  }, 3000)\n}\n\nconst stopPolling = () => {\n  if (pollInterval) {\n    clearInterval(pollInterval)\n    pollInterval = null\n  }\n}\n\nconst cancelJob = async () => {\n  if (!currentJob.value) return\n  \n  try {\n    await apiClient.post(`/queue/jobs/${currentJob.value.job_id}/cancel`)\n    currentJob.value.status = 'cancelled'\n    stopPolling()\n  } catch (err: any) {\n    alert(err.response?.data?.message || 'Failed to cancel job')\n  }\n}\n\nconst downloadApp = () => {\n  if (!currentJob.value?.generated_code) return\n  \n  const blob = new Blob([currentJob.value.generated_code], { type: 'text/html' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `ai-app-${currentJob.value.job_id}.html`\n  a.click()\n  URL.revokeObjectURL(url)\n}\n\nconst publishApp = () => {\n  console.log('Publish app functionality coming soon')\n}\n\nconst remixApp = () => {\n  if (!currentJob.value) return\n  promptText.value = currentJob.value.prompt\n  currentJob.value = null\n}\n\nconst copyCode = () => {\n  if (!currentJob.value?.generated_code) return\n  \n  navigator.clipboard.writeText(currentJob.value.generated_code)\n  alert('Code copied to clipboard!')\n}\n\nonMounted(() => {\n  loadBricksBalance()\n  loadHistory()\n  \n  if (props.jobId) {\n    loadJob(props.jobId)\n  }\n})\n\nonUnmounted(() => {\n  stopPolling()\n})\n</script>\n\n<style scoped>\n.ai-generate-view {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: var(--spacing-6);\n}\n\n.job-status-section,\n.generation-form,\n.result-section {\n  background: var(--color-bg-elevated);\n  border-radius: var(--radius-lg);\n  padding: var(--spacing-6);\n  margin-bottom: var(--spacing-6);\n  box-shadow: var(--shadow-md);\n}\n\n.status-card {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-4);\n}\n\n.status-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.status-header h2 {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--color-text-primary);\n}\n\n.progress-bar {\n  height: 8px;\n  background: var(--color-bg-secondary);\n  border-radius: var(--radius-full);\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-primary), #10b981);\n  transition: width 0.5s ease;\n}\n\n.progress-text {\n  text-align: center;\n  color: var(--color-text-secondary);\n  margin-top: var(--spacing-2);\n}\n\n.queue-info {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-2);\n  padding: var(--spacing-3);\n  background: var(--color-bg-secondary);\n  border-radius: var(--radius-md);\n}\n\n.job-details {\n  padding: var(--spacing-4);\n  background: var(--color-bg-secondary);\n  border-radius: var(--radius-md);\n}\n\n.job-details p {\n  margin-bottom: var(--spacing-2);\n  color: var(--color-text-primary);\n}\n\n.form-header {\n  margin-bottom: var(--spacing-6);\n}\n\n.form-header h1 {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: var(--spacing-2);\n  color: var(--color-text-primary);\n}\n\n.subtitle {\n  color: var(--color-text-secondary);\n}\n\n.prompt-section {\n  margin-bottom: var(--spacing-6);\n}\n\n.form-label {\n  display: flex;\n  justify-content: space-between;\n  font-weight: 600;\n  margin-bottom: var(--spacing-2);\n  color: var(--color-text-primary);\n}\n\n.char-count {\n  color: var(--color-text-secondary);\n  font-weight: 400;\n}\n\n.prompt-input {\n  width: 100%;\n  padding: var(--spacing-4);\n  border: 2px solid var(--color-border);\n  border-radius: var(--radius-md);\n  font-size: 1rem;\n  font-family: inherit;\n  background: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  resize: vertical;\n}\n\n.prompt-input:focus {\n  outline: none;\n  border-color: var(--color-primary);\n}\n\n.prompt-tips {\n  margin-top: var(--spacing-3);\n  padding: var(--spacing-3);\n  background: var(--color-bg-secondary);\n  border-radius: var(--radius-md);\n  font-size: 0.875rem;\n}\n\n.prompt-tips ul {\n  margin-top: var(--spacing-2);\n  padding-left: var(--spacing-5);\n}\n\n.prompt-tips li {\n  margin-bottom: var(--spacing-1);\n  color: var(--color-text-secondary);\n}\n\n.options-section {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: var(--spacing-4);\n  margin-bottom: var(--spacing-6);\n}\n\n.form-select {\n  width: 100%;\n  padding: var(--spacing-3);\n  border: 2px solid var(--color-border);\n  border-radius: var(--radius-md);\n  background: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  cursor: pointer;\n}\n\n.cost-section {\n  padding: var(--spacing-4);\n  background: var(--color-bg-secondary);\n  border-radius: var(--radius-md);\n  margin-bottom: var(--spacing-6);\n}\n\n.cost-display,\n.balance-display {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: var(--spacing-2);\n}\n\n.cost-value,\n.balance-value {\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n.warning-text {\n  color: #ef4444;\n  margin-top: var(--spacing-2);\n}\n\n.btn-generate {\n  width: 100%;\n  padding: var(--spacing-4);\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: var(--radius-md);\n  font-size: 1.125rem;\n  font-weight: 700;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.btn-generate:hover:not(:disabled) {\n  background: var(--color-primary-dark);\n  transform: translateY(-2px);\n}\n\n.btn-generate:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-6);\n}\n\n.result-actions {\n  display: flex;\n  gap: var(--spacing-3);\n}\n\n.app-preview {\n  margin-bottom: var(--spacing-6);\n  border-radius: var(--radius-md);\n  overflow: hidden;\n}\n\n.preview-frame {\n  width: 100%;\n  height: 600px;\n  border: none;\n}\n\n.preview-placeholder {\n  height: 400px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-bg-secondary);\n  color: var(--color-text-secondary);\n}\n\n.code-viewer {\n  background: #1e1e1e;\n  border-radius: var(--radius-md);\n  overflow: hidden;\n}\n\n.code-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-3) var(--spacing-4);\n  background: #2d2d2d;\n}\n\n.code-header h3 {\n  color: white;\n  font-size: 1rem;\n}\n\n.btn-copy {\n  padding: var(--spacing-2) var(--spacing-4);\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n}\n\n.code-content {\n  padding: var(--spacing-4);\n  color: #d4d4d4;\n  font-family: 'Courier New', monospace;\n  font-size: 0.875rem;\n  overflow-x: auto;\n  max-height: 400px;\n}\n\n.history-section {\n  margin-top: var(--spacing-8);\n}\n\n.history-section h2 {\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin-bottom: var(--spacing-4);\n  color: var(--color-text-primary);\n}\n\n.history-grid {\n  display: grid;\n  gap: var(--spacing-4);\n}\n\n.history-card {\n  display: grid;\n  grid-template-columns: auto 1fr;\n  gap: var(--spacing-4);\n  padding: var(--spacing-4);\n  background: var(--color-bg-elevated);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.history-card:hover {\n  box-shadow: var(--shadow-md);\n  transform: translateY(-2px);\n}\n\n.history-status {\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-size: 1.5rem;\n  background: var(--color-bg-secondary);\n}\n\n.history-prompt {\n  font-weight: 600;\n  margin-bottom: var(--spacing-2);\n  color: var(--color-text-primary);\n}\n\n.history-meta {\n  display: flex;\n  gap: var(--spacing-4);\n  font-size: 0.875rem;\n  color: var(--color-text-secondary);\n}\n\n.btn-primary,\n.btn-secondary,\n.btn-danger-sm {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-2);\n  padding: var(--spacing-3) var(--spacing-4);\n  border-radius: var(--radius-md);\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n}\n\n.btn-primary {\n  background: var(--color-primary);\n  color: white;\n}\n\n.btn-secondary {\n  background: transparent;\n  color: var(--color-primary);\n  border: 2px solid var(--color-primary);\n}\n\n.btn-danger-sm {\n  background: #ef4444;\n  color: white;\n  padding: var(--spacing-2) var(--spacing-3);\n  font-size: 0.875rem;\n}\n\n.loading-container {\n  text-align: center;\n  padding: var(--spacing-8);\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  margin: 0 auto;\n  border: 4px solid rgba(0, 0, 0, 0.1);\n  border-left-color: var(--color-primary);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.empty-state {\n  text-align: center;\n  padding: var(--spacing-8);\n  color: var(--color-text-secondary);\n}\n\n@media (max-width: 768px) {\n  .options-section {\n    grid-template-columns: 1fr;\n  }\n  \n  .result-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: var(--spacing-4);\n  }\n  \n  .result-actions {\n    width: 100%;\n    flex-direction: column;\n  }\n}\n</style>\n"],"names":["props","__props","useRoute","router","useRouter","authStore","useAuthStore","promptText","ref","selectedModel","priority","estimatedCost","bricksBalance","_a","generating","currentJob","history","loadingHistory","pollInterval","canGenerate","computed","jobProgress","jobStatusText","calculateCost","baseCost","charMultiplier","priorityCosts","formatDate","dateString","truncate","text","length","getStatusIcon","status","loadBricksBalance","userResponse","apiClient","err","loadHistory","response","submitGeneration","_c","_b","loadJob","jobId","id","startPolling","stopPolling","cancelJob","downloadApp","blob","url","publishApp","remixApp","copyCode","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_cache","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_createTextVNode","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","$t","_hoisted_17","_hoisted_18","_hoisted_19","$event","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_Fragment","_renderList","item","_normalizeClass","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39"],"mappings":"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"}