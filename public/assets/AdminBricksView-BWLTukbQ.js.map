{"version":3,"file":"AdminBricksView-BWLTukbQ.js","sources":["../../frontend/src/views/AdminBricksView.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-bricks-view\">\r\n    <div class=\"admin-header\">\r\n      <h1>Bricks Management</h1>\r\n      <p class=\"subtitle\">Manage user bricks balance</p>\r\n    </div>\r\n\r\n    <div class=\"admin-panel\">\r\n      <div class=\"form-card\">\r\n        <h2>Add Bricks to User</h2>\r\n        \r\n        <form @submit.prevent=\"handleAddBricks\" class=\"bricks-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"username\">Username</label>\r\n            <input\r\n              id=\"username\"\r\n              v-model=\"form.username\"\r\n              type=\"text\"\r\n              placeholder=\"Enter username\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"amount\">Amount</label>\r\n            <input\r\n              id=\"amount\"\r\n              v-model.number=\"form.amount\"\r\n              type=\"number\"\r\n              min=\"1\"\r\n              placeholder=\"Enter bricks amount\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"reason\">Reason (optional)</label>\r\n            <input\r\n              id=\"reason\"\r\n              v-model=\"form.reason\"\r\n              type=\"text\"\r\n              placeholder=\"Enter reason\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"form-actions\">\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n              <span v-if=\"loading\">Loading...</span>\r\n              <span v-else>Add Bricks</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div v-if=\"message\" class=\"message\" :class=\"messageType\">\r\n          {{ message }}\r\n        </div>\r\n\r\n        <div v-if=\"result\" class=\"result-card\">\r\n          <h3>Result</h3>\r\n          <p><strong>New Balance:</strong> {{ result.new_balance?.toLocaleString() || 0 }}</p>\r\n          <p><strong>Amount Added:</strong> {{ result.amount?.toLocaleString() || 0 }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { apiClient } from '@/services/api/client'\r\n\r\nconst form = ref({\r\n  username: '',\r\n  amount: 0,\r\n  reason: ''\r\n})\r\n\r\nconst loading = ref(false)\r\nconst message = ref('')\r\nconst messageType = ref<'success' | 'error'>('success')\r\nconst result = ref<{ new_balance: number; amount: number } | null>(null)\r\n\r\nasync function handleAddBricks() {\r\n  if (!form.value.username || !form.value.amount) {\r\n    message.value = 'Please fill in all required fields'\r\n    messageType.value = 'error'\r\n    return\r\n  }\r\n\r\n  loading.value = true\r\n  message.value = ''\r\n  result.value = null\r\n\r\n  try {\r\n    // First get user by username\r\n    const usersResponse = await apiClient.get(`/api/v1/users/search?q=${form.value.username}`)\r\n    \r\n    if (!usersResponse.data.success || !usersResponse.data.data.users?.length) {\r\n      throw new Error('User not found')\r\n    }\r\n\r\n    const user = usersResponse.data.data.users[0]\r\n    const userId = user.user_id\r\n\r\n    // Now add bricks\r\n    const response = await apiClient.post('/api/v1/bricks/admin/add', {\r\n      user_id: userId,\r\n      amount: form.value.amount,\r\n      reason: form.value.reason\r\n    })\r\n\r\n    if (response.data.success) {\r\n      result.value = response.data.data\r\n      message.value = response.data.message || 'Bricks added successfully!'\r\n      messageType.value = 'success'\r\n      \r\n      // Reset form\r\n      form.value = {\r\n        username: '',\r\n        amount: 0,\r\n        reason: ''\r\n      }\r\n    } else {\r\n      throw new Error(response.data.message || 'Failed to add bricks')\r\n    }\r\n  } catch (error: any) {\r\n    console.error('Error adding bricks:', error)\r\n    message.value = error.response?.data?.message || error.message || 'Error adding bricks'\r\n    messageType.value = 'error'\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.admin-bricks-view {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n}\r\n\r\n.admin-header {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.admin-header h1 {\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.subtitle {\r\n  color: #6b7280;\r\n  font-size: 1rem;\r\n}\r\n\r\n.admin-panel {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.form-card {\r\n  padding: 2rem;\r\n}\r\n\r\n.form-card h2 {\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.bricks-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.form-group label {\r\n  font-weight: 500;\r\n  color: #374151;\r\n}\r\n\r\n.form-group input {\r\n  padding: 0.75rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 1rem;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.form-group input:focus {\r\n  outline: none;\r\n  border-color: #3b82f6;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.btn {\r\n  padding: 0.75rem 1.5rem;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover:not(:disabled) {\r\n  background-color: #2563eb;\r\n}\r\n\r\n.btn-primary:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.message {\r\n  margin-top: 1rem;\r\n  padding: 1rem;\r\n  border-radius: 6px;\r\n  font-weight: 500;\r\n}\r\n\r\n.message.success {\r\n  background-color: #d1fae5;\r\n  color: #065f46;\r\n  border: 1px solid #6ee7b7;\r\n}\r\n\r\n.message.error {\r\n  background-color: #fee2e2;\r\n  color: #991b1b;\r\n  border: 1px solid #fca5a5;\r\n}\r\n\r\n.result-card {\r\n  margin-top: 1.5rem;\r\n  padding: 1.5rem;\r\n  background-color: #f3f4f6;\r\n  border-radius: 6px;\r\n}\r\n\r\n.result-card h3 {\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.result-card p {\r\n  margin-bottom: 0.5rem;\r\n  color: #374151;\r\n}\r\n\r\n.result-card strong {\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n/* Dark mode support */\r\n@media (prefers-color-scheme: dark) {\r\n  .admin-panel {\r\n    background: #1f2937;\r\n  }\r\n\r\n  .form-card h2,\r\n  .form-group label {\r\n    color: #f9fafb;\r\n  }\r\n\r\n  .form-group input {\r\n    background: #374151;\r\n    border-color: #4b5563;\r\n    color: #f9fafb;\r\n  }\r\n\r\n  .result-card {\r\n    background-color: #374151;\r\n  }\r\n\r\n  .result-card p {\r\n    color: #d1d5db;\r\n  }\r\n\r\n  .result-card strong {\r\n    color: #f9fafb;\r\n  }\r\n}\r\n</style>\r\n"],"names":["form","ref","loading","message","messageType","result","handleAddBricks","usersResponse","apiClient","_a","userId","response","error","_c","_b","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","_hoisted_4","$event","_vModelText","_hoisted_5","_hoisted_6","_hoisted_7","_normalizeClass","_hoisted_11","_createTextVNode","_toDisplayString"],"mappings":"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"}