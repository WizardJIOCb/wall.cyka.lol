{"version":3,"file":"AdminBricksView-C5lMgrkd.js","sources":["../../frontend/src/views/AdminBricksView.vue"],"sourcesContent":["<template>\n  <div class=\"admin-bricks-view\">\n    <div class=\"admin-header\">\n      <h1>Bricks Management</h1>\n      <p class=\"subtitle\">Manage user bricks balance</p>\n    </div>\n\n    <div class=\"admin-panel\">\n      <div class=\"form-card\">\n        <h2>Add Bricks to User</h2>\n        \n        <form @submit.prevent=\"handleAddBricks\" class=\"bricks-form\">\n          <div class=\"form-group\">\n            <label for=\"username\">Username</label>\n            <input\n              id=\"username\"\n              v-model=\"form.username\"\n              type=\"text\"\n              placeholder=\"Enter username\"\n              required\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"amount\">Amount</label>\n            <input\n              id=\"amount\"\n              v-model.number=\"form.amount\"\n              type=\"number\"\n              min=\"1\"\n              placeholder=\"Enter bricks amount\"\n              required\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"reason\">Reason (optional)</label>\n            <input\n              id=\"reason\"\n              v-model=\"form.reason\"\n              type=\"text\"\n              placeholder=\"Enter reason\"\n            />\n          </div>\n\n          <div class=\"form-actions\">\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\n              <span v-if=\"loading\">Loading...</span>\n              <span v-else>Add Bricks</span>\n            </button>\n          </div>\n        </form>\n\n        <div v-if=\"message\" class=\"message\" :class=\"messageType\">\n          {{ message }}\n        </div>\n\n        <div v-if=\"result\" class=\"result-card\">\n          <h3>Result</h3>\n          <p><strong>New Balance:</strong> {{ result.new_balance?.toLocaleString() || 0 }}</p>\n          <p><strong>Amount Added:</strong> {{ result.amount?.toLocaleString() || 0 }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { apiClient } from '@/services/api/client'\n\nconst form = ref({\n  username: '',\n  amount: 0,\n  reason: ''\n})\n\nconst loading = ref(false)\nconst message = ref('')\nconst messageType = ref<'success' | 'error'>('success')\nconst result = ref<{ new_balance: number; amount: number } | null>(null)\n\nasync function handleAddBricks() {\n  if (!form.value.username || !form.value.amount) {\n    message.value = 'Please fill in all required fields'\n    messageType.value = 'error'\n    return\n  }\n\n  loading.value = true\n  message.value = ''\n  result.value = null\n\n  try {\n    // First get user by username\n    const usersResponse = await apiClient.get(`/api/v1/users/search?q=${form.value.username}`)\n    \n    if (!usersResponse.data.success || !usersResponse.data.data.users?.length) {\n      throw new Error('User not found')\n    }\n\n    const user = usersResponse.data.data.users[0]\n    const userId = user.user_id\n\n    // Now add bricks\n    const response = await apiClient.post('/api/v1/bricks/admin/add', {\n      user_id: userId,\n      amount: form.value.amount,\n      reason: form.value.reason\n    })\n\n    if (response.data.success) {\n      result.value = response.data.data\n      message.value = response.data.message || 'Bricks added successfully!'\n      messageType.value = 'success'\n      \n      // Reset form\n      form.value = {\n        username: '',\n        amount: 0,\n        reason: ''\n      }\n    } else {\n      throw new Error(response.data.message || 'Failed to add bricks')\n    }\n  } catch (error: any) {\n    console.error('Error adding bricks:', error)\n    message.value = error.response?.data?.message || error.message || 'Error adding bricks'\n    messageType.value = 'error'\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.admin-bricks-view {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 2rem;\n}\n\n.admin-header {\n  margin-bottom: 2rem;\n}\n\n.admin-header h1 {\n  font-size: 2rem;\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n}\n\n.subtitle {\n  color: #6b7280;\n  font-size: 1rem;\n}\n\n.admin-panel {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.form-card {\n  padding: 2rem;\n}\n\n.form-card h2 {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 1.5rem;\n}\n\n.bricks-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-group label {\n  font-weight: 500;\n  color: #374151;\n}\n\n.form-group input {\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 1rem;\n  transition: border-color 0.2s;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: #3b82f6;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-start;\n}\n\n.btn {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 6px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.btn-primary {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background-color: #2563eb;\n}\n\n.btn-primary:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.message {\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 6px;\n  font-weight: 500;\n}\n\n.message.success {\n  background-color: #d1fae5;\n  color: #065f46;\n  border: 1px solid #6ee7b7;\n}\n\n.message.error {\n  background-color: #fee2e2;\n  color: #991b1b;\n  border: 1px solid #fca5a5;\n}\n\n.result-card {\n  margin-top: 1.5rem;\n  padding: 1.5rem;\n  background-color: #f3f4f6;\n  border-radius: 6px;\n}\n\n.result-card h3 {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 1rem;\n}\n\n.result-card p {\n  margin-bottom: 0.5rem;\n  color: #374151;\n}\n\n.result-card strong {\n  font-weight: 600;\n  color: #111827;\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .admin-panel {\n    background: #1f2937;\n  }\n\n  .form-card h2,\n  .form-group label {\n    color: #f9fafb;\n  }\n\n  .form-group input {\n    background: #374151;\n    border-color: #4b5563;\n    color: #f9fafb;\n  }\n\n  .result-card {\n    background-color: #374151;\n  }\n\n  .result-card p {\n    color: #d1d5db;\n  }\n\n  .result-card strong {\n    color: #f9fafb;\n  }\n}\n</style>\n"],"names":["form","ref","loading","message","messageType","result","handleAddBricks","usersResponse","apiClient","_a","userId","response","error","_c","_b","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","_hoisted_4","$event","_vModelText","_hoisted_5","_hoisted_6","_hoisted_7","_normalizeClass","_hoisted_11","_createTextVNode","_toDisplayString"],"mappings":"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"}