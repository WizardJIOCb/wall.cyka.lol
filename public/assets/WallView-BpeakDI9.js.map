{"version":3,"file":"WallView-BpeakDI9.js","sources":["../../frontend/src/components/ai/AIGenerationProgress.vue","../../frontend/src/composables/useComments.ts","../../frontend/src/components/social/CommentInput.vue","../../frontend/src/components/social/CommentItem.vue","../../frontend/src/components/social/CommentSection.vue","../../frontend/node_modules/marked/lib/marked.esm.js","../../frontend/src/views/WallView.vue"],"sourcesContent":["<template>\r\n  <div class=\"ai-generation-progress\">\r\n    <div class=\"progress-header\">\r\n      <div class=\"status-icon-container\">\r\n        <div v-if=\"status === 'processing'\" class=\"spinner\"></div>\r\n        <span v-else class=\"status-icon\" :class=\"statusClass\">{{ statusIcon }}</span>\r\n      </div>\r\n      <div class=\"status-info\">\r\n        <h3>{{ statusTitle }}</h3>\r\n        <p class=\"status-subtitle\">{{ statusSubtitle }}</p>\r\n        <p v-if=\"props.modelName\" class=\"model-name\">\r\n          <span class=\"model-icon\">ü§ñ</span>\r\n          <span class=\"model-text\">{{ props.modelName }}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Progress Bar -->\r\n    <div class=\"progress-bar-container\">\r\n      <div class=\"progress-bar\" :class=\"{ 'indeterminate': progress === 0 && isGenerating }\">\r\n        <div \r\n          v-if=\"progress > 0\"\r\n          class=\"progress-fill\" \r\n          :class=\"{ 'progress-pulsing': isGenerating }\"\r\n          :style=\"{ width: progress + '%' }\"\r\n        >\r\n          <span class=\"progress-text\" v-if=\"progress >= 8\">{{ progress }}%</span>\r\n        </div>\r\n        <div v-else-if=\"isGenerating\" class=\"progress-fill-indeterminate\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Real-time Stats -->\r\n    <div v-if=\"isGenerating || status === 'completed'\" class=\"stats-grid\">\r\n      <!-- Tokens Generated -->\r\n      <div class=\"stat-card\">\r\n        <div class=\"stat-icon\">üî¢</div>\r\n        <div class=\"stat-content\">\r\n          <div class=\"stat-value\">{{ formatNumber(currentTokens) }}</div>\r\n          <div class=\"stat-label\">{{ currentTokens === 0 && status === 'processing' ? 'Evaluating...' : 'Tokens Generated' }}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Generation Speed -->\r\n      <div class=\"stat-card\">\r\n        <div class=\"stat-icon\">‚ö°</div>\r\n        <div class=\"stat-content\">\r\n          <div class=\"stat-value\">{{ tokensPerSecond > 0 ? tokensPerSecond.toFixed(1) : '‚Äî' }}</div>\r\n          <div class=\"stat-label\">Tokens/sec</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Elapsed Time -->\r\n      <div class=\"stat-card\">\r\n        <div class=\"stat-icon\">‚è±Ô∏è</div>\r\n        <div class=\"stat-content\">\r\n          <div class=\"stat-value\">{{ formatTime(elapsedTime) }}</div>\r\n          <div class=\"stat-label\">Elapsed Time</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Estimated Remaining -->\r\n      <div class=\"stat-card\" v-if=\"estimatedRemaining > 0 && isGenerating\">\r\n        <div class=\"stat-icon\">‚è≥</div>\r\n        <div class=\"stat-content\">\r\n          <div class=\"stat-value\">{{ formatTime(estimatedRemaining) }}</div>\r\n          <div class=\"stat-label\">Est. Remaining</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Total Tokens (when completed) -->\r\n    <div v-if=\"status === 'completed' && totalTokens > 0\" class=\"completion-stats\">\r\n      <div class=\"completion-badge\">\r\n        <span class=\"badge-icon\">‚ú®</span>\r\n        <span class=\"badge-text\">Generation Complete!</span>\r\n      </div>\r\n      <div class=\"token-breakdown\">\r\n        <div class=\"token-item\">\r\n          <span class=\"token-label\">Input Tokens:</span>\r\n          <span class=\"token-value\">{{ formatNumber(promptTokens) }}</span>\r\n        </div>\r\n        <div class=\"token-item\">\r\n          <span class=\"token-label\">Output Tokens:</span>\r\n          <span class=\"token-value\">{{ formatNumber(completionTokens) }}</span>\r\n        </div>\r\n        <div class=\"token-item total\">\r\n          <span class=\"token-label\">Total:</span>\r\n          <span class=\"token-value\">{{ formatNumber(totalTokens) }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Error Message -->\r\n    <div v-if=\"status === 'failed' && errorMessage\" class=\"error-message\">\r\n      <span class=\"error-icon\">‚ö†Ô∏è</span>\r\n      <span>{{ errorMessage }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\r\n\r\nconst props = defineProps<{\r\n  jobId: string\r\n  autoStart?: boolean\r\n  modelName?: string\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  complete: [data: any]\r\n  error: [error: string]\r\n}>()\r\n\r\n// State\r\nconst status = ref<'queued' | 'processing' | 'completed' | 'failed'>('queued')\r\nconst progress = ref(0)\r\nconst currentTokens = ref(0)\r\nconst tokensPerSecond = ref(0)\r\nconst elapsedTime = ref(0)\r\nconst estimatedRemaining = ref(0)\r\nconst promptTokens = ref(0)\r\nconst completionTokens = ref(0)\r\nconst totalTokens = ref(0)\r\nconst contentLength = ref(0)\r\nconst charsPerSecond = ref(0)\r\nconst errorMessage = ref('')\r\n\r\nlet eventSource: EventSource | null = null\r\nlet timerInterval: number | null = null\r\nlet clientStartTime = 0\r\n\r\n// Computed\r\nconst isGenerating = computed(() => status.value === 'processing')\r\n\r\nconst statusIcon = computed(() => {\r\n  switch (status.value) {\r\n    case 'queued': return '‚è≥'\r\n    case 'processing': return 'ü§ñ'\r\n    case 'completed': return '‚úÖ'\r\n    case 'failed': return '‚ùå'\r\n    default: return '‚ùì'\r\n  }\r\n})\r\n\r\nconst statusClass = computed(() => {\r\n  return `status-${status.value}`\r\n})\r\n\r\nconst statusTitle = computed(() => {\r\n  switch (status.value) {\r\n    case 'queued': return 'Generation Queued'\r\n    case 'processing': return 'AI is Generating...'\r\n    case 'completed': return 'Generation Complete'\r\n    case 'failed': return 'Generation Failed'\r\n    default: return 'Unknown Status'\r\n  }\r\n})\r\n\r\nconst statusSubtitle = computed(() => {\r\n  if (status.value === 'queued') {\r\n    return 'Waiting in queue...'\r\n  }\r\n  if (status.value === 'processing') {\r\n    if (contentLength.value === 0) {\r\n      return 'Preparing... Evaluating prompt and loading model'\r\n    }\r\n    if (progress.value === 0 && contentLength.value > 0) {\r\n      return 'Preparing generation...' \r\n    }\r\n    if (tokensPerSecond.value > 0) {\r\n      return `Generating at ${tokensPerSecond.value.toFixed(1)} tokens/sec (${Math.round(charsPerSecond.value)} chars/sec)`\r\n    }\r\n    return `Generating content... ${contentLength.value} characters`\r\n  }\r\n  return ''\r\n})\r\n\r\n// Methods\r\nfunction formatNumber(num: number): string {\r\n  return num.toLocaleString()\r\n}\r\n\r\nfunction formatTime(ms: number): string {\r\n  const seconds = Math.floor(ms / 1000)\r\n  const minutes = Math.floor(seconds / 60)\r\n  const hours = Math.floor(minutes / 60)\r\n\r\n  if (hours > 0) {\r\n    return `${hours}h ${minutes % 60}m ${seconds % 60}s`\r\n  } else if (minutes > 0) {\r\n    return `${minutes}m ${seconds % 60}s`\r\n  } else {\r\n    return `${seconds}s`\r\n  }\r\n}\r\n\r\nfunction startTracking() {\r\n  if (eventSource) return\r\n\r\n  const apiUrl = import.meta.env.VITE_API_URL || ''\r\n  const streamUrl = `${apiUrl}/api/v1/ai/generation/${props.jobId}/progress`\r\n\r\n  console.log('[AIGenerationProgress] Starting SSE connection to:', streamUrl)\r\n\r\n  clientStartTime = Date.now()\r\n\r\n  // Start client-side timer for real-time elapsed time display\r\n  timerInterval = window.setInterval(() => {\r\n    if (status.value === 'processing') {\r\n      elapsedTime.value = Date.now() - clientStartTime\r\n    }\r\n  }, 100) // Update every 100ms for smooth display\r\n\r\n  // Connect to SSE stream\r\n  eventSource = new EventSource(streamUrl)\r\n\r\n  eventSource.addEventListener('progress', (event) => {\r\n    console.log('[AIGenerationProgress] Received progress event:', event.data)\r\n    const data = JSON.parse(event.data)\r\n    \r\n    status.value = data.status\r\n    progress.value = data.progress || 0\r\n    currentTokens.value = data.current_tokens || 0\r\n    tokensPerSecond.value = data.tokens_per_second || 0\r\n    estimatedRemaining.value = data.estimated_remaining || 0\r\n    promptTokens.value = data.prompt_tokens || 0\r\n    completionTokens.value = data.completion_tokens || 0\r\n    totalTokens.value = data.total_tokens || 0\r\n    contentLength.value = data.content_length || 0\r\n    charsPerSecond.value = data.chars_per_second || 0\r\n\r\n    // ONLY sync start time when first starting, don't override running timer\r\n    if (data.elapsed_time && status.value === 'processing' && elapsedTime.value === 0) {\r\n      const serverElapsed = data.elapsed_time\r\n      clientStartTime = Date.now() - serverElapsed\r\n      elapsedTime.value = serverElapsed\r\n    }\r\n  })\r\n\r\n  eventSource.addEventListener('complete', (event) => {\r\n    console.log('[AIGenerationProgress] Generation complete:', event.data)\r\n    const data = JSON.parse(event.data)\r\n    \r\n    status.value = 'completed'\r\n    progress.value = 100\r\n    totalTokens.value = data.total_tokens || totalTokens.value\r\n    \r\n    if (data.elapsed_time) {\r\n      elapsedTime.value = data.elapsed_time\r\n    }\r\n\r\n    stopTracking()\r\n    emit('complete', data)\r\n  })\r\n\r\n  eventSource.addEventListener('error', (event) => {\r\n    console.error('[AIGenerationProgress] SSE error event:', event)\r\n    let data: any = {}\r\n    try {\r\n      data = JSON.parse((event as any).data)\r\n    } catch (e) {\r\n      data = { error: 'Connection error' }\r\n    }\r\n\r\n    status.value = 'failed'\r\n    errorMessage.value = data.error || 'Unknown error occurred'\r\n    \r\n    stopTracking()\r\n    emit('error', errorMessage.value)\r\n  })\r\n\r\n  eventSource.onerror = (error) => {\r\n    console.error('[AIGenerationProgress] SSE connection error:', error)\r\n    // Don't immediately fail - might be a temporary network issue\r\n    // The server will timeout after 10 minutes if needed\r\n  }\r\n}\r\n\r\nfunction stopTracking() {\r\n  if (eventSource) {\r\n    eventSource.close()\r\n    eventSource = null\r\n  }\r\n\r\n  if (timerInterval) {\r\n    clearInterval(timerInterval)\r\n    timerInterval = null\r\n  }\r\n}\r\n\r\n// Lifecycle\r\nonMounted(() => {\r\n  if (props.autoStart !== false) {\r\n    startTracking()\r\n  }\r\n})\r\n\r\nonUnmounted(() => {\r\n  stopTracking()\r\n})\r\n\r\n// Expose methods for parent component\r\ndefineExpose({\r\n  startTracking,\r\n  stopTracking\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.ai-generation-progress {\r\n  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\r\n  border: 1px solid rgba(102, 126, 234, 0.2);\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.progress-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.status-icon-container {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.spinner {\r\n  width: 2.5rem;\r\n  height: 2.5rem;\r\n  border: 4px solid rgba(102, 126, 234, 0.2);\r\n  border-top-color: #667eea;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.status-icon {\r\n  font-size: 2.5rem;\r\n  display: inline-block;\r\n  animation: pulse 2s ease-in-out infinite;\r\n}\r\n\r\n.status-icon.status-processing {\r\n  animation: spin 2s linear infinite;\r\n}\r\n\r\n.status-icon.status-completed {\r\n  animation: bounce 0.5s ease-in-out;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.7; }\r\n}\r\n\r\n@keyframes spin {\r\n  from { transform: rotate(0deg); }\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n@keyframes bounce {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.2); }\r\n}\r\n\r\n.status-info h3 {\r\n  margin: 0;\r\n  font-size: 1.25rem;\r\n  color: var(--color-text-primary, #1a1a1a);\r\n}\r\n\r\n.status-subtitle {\r\n  margin: 0.25rem 0 0 0;\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary, #666);\r\n}\r\n\r\n.model-name {\r\n  margin: 0.5rem 0 0 0;\r\n  font-size: 0.75rem;\r\n  color: var(--color-primary, #667eea);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.25rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.model-icon {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.model-text {\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n.progress-bar-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.progress-bar {\r\n  flex: 1;\r\n  height: 32px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.progress-bar.indeterminate {\r\n  background: linear-gradient(90deg, \r\n    rgba(0, 0, 0, 0.1) 0%, \r\n    rgba(102, 126, 234, 0.2) 50%, \r\n    rgba(0, 0, 0, 0.1) 100%);\r\n  background-size: 200% 100%;\r\n  animation: shimmer 2s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% { background-position: 200% 0; }\r\n  100% { background-position: -200% 0; }\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 16px;\r\n  transition: width 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n}\r\n\r\n.progress-fill-indeterminate {\r\n  height: 100%;\r\n  width: 40%;\r\n  background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 16px;\r\n  animation: indeterminateProgress 1.5s ease-in-out infinite;\r\n  box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);\r\n  position: absolute;\r\n  left: 0;\r\n}\r\n\r\n@keyframes indeterminateProgress {\r\n  0% {\r\n    left: -40%;\r\n    opacity: 0.8;\r\n  }\r\n  50% {\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    left: 100%;\r\n    opacity: 0.8;\r\n  }\r\n}\r\n\r\n.progress-pulsing {\r\n  animation: progressPulse 1.5s ease-in-out infinite;\r\n}\r\n\r\n@keyframes progressPulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.8; }\r\n}\r\n\r\n.progress-text {\r\n  color: white;\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.progress-label {\r\n  font-weight: 600;\r\n  color: var(--color-text-primary, #1a1a1a);\r\n  min-width: 45px;\r\n  text-align: right;\r\n}\r\n\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.stat-card {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.stat-icon {\r\n  font-size: 1.75rem;\r\n}\r\n\r\n.stat-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  color: var(--color-primary, #667eea);\r\n  line-height: 1.2;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 0.75rem;\r\n  color: var(--color-text-secondary, #666);\r\n  margin-top: 0.25rem;\r\n}\r\n\r\n.completion-stats {\r\n  margin-top: 1.5rem;\r\n  padding-top: 1.5rem;\r\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.completion-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 20px;\r\n  font-weight: 600;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.badge-icon {\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.token-breakdown {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n}\r\n\r\n.token-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.token-item.total {\r\n  margin-top: 0.5rem;\r\n  padding-top: 0.5rem;\r\n  border-top: 2px solid rgba(0, 0, 0, 0.1);\r\n  font-weight: 700;\r\n}\r\n\r\n.token-label {\r\n  color: var(--color-text-secondary, #666);\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.token-value {\r\n  color: var(--color-primary, #667eea);\r\n  font-weight: 600;\r\n}\r\n\r\n.token-item.total .token-value {\r\n  font-size: 1.125rem;\r\n}\r\n\r\n.error-message {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  background: rgba(248, 113, 113, 0.1);\r\n  border: 1px solid rgba(248, 113, 113, 0.3);\r\n  border-radius: 8px;\r\n  color: #dc2626;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.error-icon {\r\n  font-size: 1.25rem;\r\n  flex-shrink: 0;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .stats-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n  \r\n  .progress-bar-container {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .progress-label {\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n","import { ref, Ref } from 'vue'\r\nimport apiClient from '@/services/api/client'\r\nimport type { Comment } from '@/types/comment'\r\n\r\nexport interface CreateCommentData {\r\n  post_id: number\r\n  content_text: string\r\n  content_html?: string\r\n  parent_id?: number | null\r\n}\r\n\r\nexport function useComments(postId: Ref<number> | number) {\r\n  const comments = ref<Comment[]>([])\r\n  const loading = ref(false)\r\n  const error = ref<string | null>(null)\r\n\r\n  const getPostId = () => typeof postId === 'number' ? postId : postId.value\r\n\r\n  const isValidComment = (comment: any): comment is Comment => {\r\n    return (\r\n      comment !== null &&\r\n      comment !== undefined &&\r\n      typeof comment === 'object' &&\r\n      typeof comment.comment_id === 'number' &&\r\n      comment.comment_id > 0\r\n    )\r\n  }\r\n\r\n  const loadComments = async (sortBy: 'newest' | 'oldest' | 'popular' = 'newest') => {\r\n    try {\r\n      loading.value = true\r\n      error.value = null\r\n      \r\n      // Convert sortBy to the format expected by the backend\r\n      let sortParam = 'created_asc'\r\n      if (sortBy === 'newest') {\r\n        sortParam = 'created_desc'\r\n      } else if (sortBy === 'popular') {\r\n        sortParam = 'reactions'\r\n      }\r\n      \r\n      const response = await apiClient.get(`/posts/${getPostId()}/comments`, {\r\n        params: {\r\n          sort: sortParam\r\n        }\r\n      })\r\n      \r\n      // Debug: Log the raw response\r\n      console.log('Comments API Response:', response)\r\n      \r\n      // The API client interceptor already unwraps the response\r\n      // response is already the data part: { comments: [...], count: 6, has_more: false }\r\n      // Make sure we have a valid array of comments\r\n      if (response && Array.isArray(response.comments)) {\r\n        // Filter out any invalid comments and ensure each comment is a valid object\r\n        comments.value = response.comments.filter(isValidComment)\r\n        console.log('Filtered comments:', comments.value)\r\n      } else {\r\n        console.log('Invalid response format or no comments array found')\r\n        comments.value = []\r\n      }\r\n    } catch (err: any) {\r\n      error.value = err.message || 'Failed to load comments'\r\n      console.error('Error loading comments:', err)\r\n      comments.value = [] // Ensure we have an empty array on error\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  }\r\n\r\n  const addComment = async (commentData: CreateCommentData): Promise<Comment | null> => {\r\n    try {\r\n      const response = await apiClient.post('/comments', commentData)\r\n      \r\n      // The API client interceptor already unwraps the response\r\n      // response is already the data part: { comment: {...} }\r\n      const newComment = response.comment\r\n      \r\n      // Make sure we have a valid comment object\r\n      if (isValidComment(newComment)) {\r\n        // Add to comments list\r\n        if (!commentData.parent_id) {\r\n          comments.value.unshift(newComment)\r\n        } else {\r\n          // Add as reply (will be handled by component)\r\n          return newComment\r\n        }\r\n        \r\n        return newComment\r\n      }\r\n      return null\r\n    } catch (err: any) {\r\n      error.value = err.message || 'Failed to add comment'\r\n      throw err\r\n    }\r\n  }\r\n\r\n  const updateComment = async (commentId: number, data: Partial<Comment>): Promise<Comment | null> => {\r\n    try {\r\n      const response = await apiClient.patch(`/comments/${commentId}`, data)\r\n      \r\n      // The API client interceptor already unwraps the response\r\n      // response is already the data part: { comment: {...} }\r\n      const updatedComment = response.comment\r\n      \r\n      // Make sure we have a valid comment object\r\n      if (isValidComment(updatedComment)) {\r\n        // Update in comments list\r\n        const index = comments.value.findIndex((c: Comment) => c && c.comment_id === commentId)\r\n        if (index !== -1) {\r\n          comments.value[index] = { ...comments.value[index], ...updatedComment }\r\n        }\r\n        \r\n        return updatedComment\r\n      }\r\n      return null\r\n    } catch (err: any) {\r\n      error.value = err.message || 'Failed to update comment'\r\n      throw err\r\n    }\r\n  }\r\n\r\n  const deleteComment = async (commentId: number): Promise<void> => {\r\n    try {\r\n      await apiClient.delete(`/comments/${commentId}`)\r\n      \r\n      // Remove from comments list\r\n      comments.value = comments.value.filter((c: Comment) => c && c.comment_id !== undefined && c.comment_id !== commentId)\r\n    } catch (err: any) {\r\n      error.value = err.message || 'Failed to delete comment'\r\n      throw err\r\n    }\r\n  }\r\n\r\n  const loadReplies = async (parentId: number): Promise<Comment[]> => {\r\n    try {\r\n      const response = await apiClient.get(`/posts/${getPostId()}/comments`, {\r\n        params: {\r\n          parent_id: parentId\r\n        }\r\n      })\r\n      \r\n      // The API client interceptor already unwraps the response\r\n      // response is already the data part: { comments: [...] }\r\n      if (response && Array.isArray(response.comments)) {\r\n        // Filter out any invalid comments and ensure each comment is a valid object\r\n        return response.comments.filter(isValidComment)\r\n      }\r\n      return []\r\n    } catch (err: any) {\r\n      error.value = err.message || 'Failed to load replies'\r\n      return []\r\n    }\r\n  }\r\n\r\n  return {\r\n    comments,\r\n    loading,\r\n    error,\r\n    loadComments,\r\n    addComment,\r\n    updateComment,\r\n    deleteComment,\r\n    loadReplies\r\n  }\r\n}","<template>\r\n  <div class=\"comment-input-container\">\r\n    <div class=\"comment-input-wrapper\">\r\n      <img \r\n        :src=\"userAvatar\" \r\n        :alt=\"username\"\r\n        class=\"user-avatar\"\r\n      />\r\n      \r\n      <div class=\"input-area\">\r\n        <textarea\r\n          v-model=\"commentText\"\r\n          ref=\"textareaRef\"\r\n          :placeholder=\"placeholder\"\r\n          @keydown.enter.exact.prevent=\"handleSubmit\"\r\n          @input=\"adjustHeight\"\r\n          class=\"comment-textarea\"\r\n          rows=\"1\"\r\n        ></textarea>\r\n        \r\n        <div class=\"input-actions\">\r\n          <button \r\n            @click=\"handleSubmit\" \r\n            :disabled=\"!commentText.trim() || isSubmitting\"\r\n            class=\"btn-submit\"\r\n          >\r\n            {{ isSubmitting ? 'Posting...' : 'Post' }}\r\n          </button>\r\n          \r\n          <button \r\n            v-if=\"onCancel\"\r\n            @click=\"handleCancel\" \r\n            class=\"btn-cancel\"\r\n            :disabled=\"isSubmitting\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, nextTick } from 'vue'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst props = defineProps<{\r\n  postId: number\r\n  parentId?: number | null\r\n  placeholder?: string\r\n  onCancel?: () => void\r\n  initialValue?: string\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  (e: 'submit', text: string): void\r\n  (e: 'cancel'): void\r\n}>()\r\n\r\nconst authStore = useAuthStore()\r\nconst commentText = ref(props.initialValue || '')\r\nconst isSubmitting = ref(false)\r\nconst textareaRef = ref<HTMLTextAreaElement | null>(null)\r\n\r\nconst userAvatar = computed(() => {\r\n  return authStore.user?.avatar_url || '/assets/images/default-avatar.svg'\r\n})\r\n\r\nconst username = computed(() => {\r\n  return authStore.user?.username || 'User'\r\n})\r\n\r\nconst adjustHeight = () => {\r\n  nextTick(() => {\r\n    if (textareaRef.value) {\r\n      textareaRef.value.style.height = 'auto'\r\n      textareaRef.value.style.height = `${textareaRef.value.scrollHeight}px`\r\n    }\r\n  })\r\n}\r\n\r\nconst handleSubmit = async () => {\r\n  if (!commentText.value.trim() || isSubmitting.value) return\r\n  \r\n  isSubmitting.value = true\r\n  try {\r\n    emit('submit', commentText.value.trim())\r\n    commentText.value = ''\r\n    adjustHeight()\r\n  } finally {\r\n    isSubmitting.value = false\r\n  }\r\n}\r\n\r\nconst handleCancel = () => {\r\n  commentText.value = ''\r\n  adjustHeight()\r\n  if (props.onCancel) {\r\n    props.onCancel()\r\n  }\r\n  emit('cancel')\r\n}\r\n\r\nconst focus = () => {\r\n  nextTick(() => {\r\n    textareaRef.value?.focus()\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  focus\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.comment-input-container {\r\n  padding: var(--spacing-4);\r\n}\r\n\r\n.comment-input-wrapper {\r\n  display: flex;\r\n  gap: var(--spacing-3);\r\n  align-items: flex-start;\r\n}\r\n\r\n.user-avatar {\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.input-area {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-2);\r\n}\r\n\r\n.comment-textarea {\r\n  width: 100%;\r\n  min-height: 40px;\r\n  max-height: 200px;\r\n  padding: var(--spacing-3);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: var(--radius-md);\r\n  background: var(--color-bg-elevated);\r\n  color: var(--color-text-primary);\r\n  font-family: inherit;\r\n  font-size: 0.938rem;\r\n  line-height: 1.5;\r\n  resize: none;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.comment-textarea:focus {\r\n  outline: none;\r\n  border-color: var(--color-primary);\r\n}\r\n\r\n.comment-textarea::placeholder {\r\n  color: var(--color-text-secondary);\r\n}\r\n\r\n.input-actions {\r\n  display: flex;\r\n  gap: var(--spacing-2);\r\n  justify-content: flex-end;\r\n}\r\n\r\n.btn-submit,\r\n.btn-cancel {\r\n  padding: var(--spacing-2) var(--spacing-4);\r\n  border-radius: var(--radius-md);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  border: none;\r\n}\r\n\r\n.btn-submit {\r\n  background: var(--color-primary);\r\n  color: white;\r\n}\r\n\r\n.btn-submit:hover:not(:disabled) {\r\n  background: var(--color-primary-dark);\r\n}\r\n\r\n.btn-submit:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.btn-cancel {\r\n  background: transparent;\r\n  color: var(--color-text-secondary);\r\n  border: 2px solid var(--color-border);\r\n}\r\n\r\n.btn-cancel:hover:not(:disabled) {\r\n  background: var(--color-bg-secondary);\r\n  color: var(--color-text-primary);\r\n}\r\n</style>\r\n","<template>\r\n  <div v-if=\"comment && comment.comment_id\" :class=\"['comment-item', { 'is-reply': depth > 0 }]\" :style=\"{ marginLeft: `${depth * 40}px` }\">\r\n    <!-- Comment Header -->\r\n    <div class=\"comment-header\">\r\n      <img \r\n        :src=\"comment.author_avatar || '/assets/images/default-avatar.svg'\" \r\n        :alt=\"comment.author_username\"\r\n        class=\"comment-avatar\"\r\n      />\r\n      \r\n      <div class=\"comment-meta\">\r\n        <span class=\"comment-author\">{{ comment.author_username }}</span>\r\n        <span class=\"comment-time\">{{ formatTime(comment.created_at) }}</span>\r\n        <span v-if=\"comment.edited_at\" class=\"comment-edited\">(edited)</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Comment Body -->\r\n    <div class=\"comment-body\">\r\n      <div v-if=\"isEditing\" class=\"comment-edit\">\r\n        <CommentInput\r\n          :post-id=\"comment.post_id\"\r\n          :initial-value=\"comment.content_text\"\r\n          :placeholder=\"'Edit your comment...'\"\r\n          @submit=\"handleEditSubmit\"\r\n          @cancel=\"cancelEdit\"\r\n        />\r\n      </div>\r\n      \r\n      <div v-else class=\"comment-content\">\r\n        <div v-if=\"comment.content_html\" v-html=\"comment.content_html\"></div>\r\n        <p v-else>{{ comment.content_text }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Comment Actions -->\r\n    <div v-if=\"!isEditing\" class=\"comment-actions\">\r\n      <ReactionPicker\r\n        :reactable-type=\"'comment'\"\r\n        :reactable-id=\"comment.comment_id\"\r\n      />\r\n      \r\n      <button \r\n        v-if=\"canReply\"\r\n        @click=\"toggleReply\" \r\n        class=\"action-btn\"\r\n      >\r\n        <span class=\"icon\">üí¨</span>\r\n        <span>Reply</span>\r\n        <span v-if=\"comment.reply_count > 0\">({{ comment.reply_count }})</span>\r\n      </button>\r\n      \r\n      <button \r\n        v-if=\"canEdit\"\r\n        @click=\"startEdit\" \r\n        class=\"action-btn\"\r\n      >\r\n        <span class=\"icon\">‚úèÔ∏è</span>\r\n        <span>Edit</span>\r\n      </button>\r\n      \r\n      <button \r\n        v-if=\"canDelete\"\r\n        @click=\"handleDelete\" \r\n        class=\"action-btn delete\"\r\n      >\r\n        <span class=\"icon\">üóëÔ∏è</span>\r\n        <span>Delete</span>\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Reply Input -->\r\n    <div v-if=\"showReplyInput\" class=\"reply-input\">\r\n      <CommentInput\r\n        :post-id=\"comment.post_id\"\r\n        :parent-id=\"comment.comment_id\"\r\n        :placeholder=\"'Write a reply...'\"\r\n        @submit=\"handleReplySubmit\"\r\n        @cancel=\"toggleReply\"\r\n      />\r\n    </div>\r\n\r\n    <!-- Nested Replies -->\r\n    <div v-if=\"showReplies && replies.length > 0\" class=\"comment-replies\">\r\n      <CommentItem\r\n        v-for=\"reply in replies\"\r\n        :key=\"reply.comment_id\"\r\n        :comment=\"reply\"\r\n        :post-id=\"postId\"\r\n        :depth=\"depth + 1\"\r\n        :max-depth=\"maxDepth\"\r\n        @reply-added=\"handleReplyAdded\"\r\n        @comment-updated=\"$emit('comment-updated', $event)\"\r\n        @comment-deleted=\"$emit('comment-deleted', $event)\"\r\n      />\r\n    </div>\r\n\r\n    <!-- Load Replies Button -->\r\n    <div v-if=\"comment.reply_count > 0 && !showReplies && !loadingReplies\" class=\"load-replies\">\r\n      <button @click=\"loadReplies\" class=\"btn-load-replies\">\r\n        <span class=\"icon\">‚Ü≥</span>\r\n        <span>Show {{ comment.reply_count }} {{ comment.reply_count === 1 ? 'reply' : 'replies' }}</span>\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Loading Replies -->\r\n    <div v-if=\"loadingReplies\" class=\"loading-replies\">\r\n      <div class=\"spinner\"></div>\r\n      <span>Loading replies...</span>\r\n    </div>\r\n\r\n    <!-- View Full Thread Link (if max depth reached) -->\r\n    <div v-if=\"depth >= maxDepth && comment.reply_count > 0\" class=\"view-full-thread\">\r\n      <button @click=\"viewFullThread\" class=\"btn-view-thread\">\r\n        View full thread ‚Üí\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { useComments, type Comment } from '@/composables/useComments'\r\nimport CommentInput from './CommentInput.vue'\r\nimport ReactionPicker from './ReactionPicker.vue'\r\n\r\nconst props = defineProps<{\r\n  comment: Comment\r\n  postId: number\r\n  depth?: number\r\n  maxDepth?: number\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  (e: 'reply-added', reply: Comment): void\r\n  (e: 'comment-updated', comment: Comment): void\r\n  (e: 'comment-deleted', commentId: number): void\r\n}>()\r\n\r\n// Add a safety check for the comment prop\r\nif (!props.comment) {\r\n  console.warn('CommentItem: comment prop is required')\r\n}\r\n\r\nconst authStore = useAuthStore()\r\nconst { addComment, updateComment, deleteComment, loadReplies: loadCommentReplies } = useComments(ref(props.postId))\r\n\r\nconst depth = computed(() => props.depth || 0)\r\nconst maxDepth = computed(() => props.maxDepth || 3)\r\nconst isEditing = ref(false)\r\nconst showReplyInput = ref(false)\r\nconst showReplies = ref(false)\r\nconst loadingReplies = ref(false)\r\nconst replies = ref<Comment[]>([])\r\n\r\nconst canEdit = computed(() => {\r\n  return props.comment && authStore.user?.user_id === props.comment.author_id\r\n})\r\n\r\nconst canDelete = computed(() => {\r\n  return props.comment && authStore.user?.user_id === props.comment.author_id\r\n})\r\n\r\nconst canReply = computed(() => {\r\n  return props.comment && depth.value < maxDepth.value\r\n})\r\n\r\nconst formatTime = (dateString: string) => {\r\n  const date = new Date(dateString)\r\n  const now = new Date()\r\n  const diffMs = now.getTime() - date.getTime()\r\n  const diffMins = Math.floor(diffMs / 60000)\r\n  const diffHours = Math.floor(diffMs / 3600000)\r\n  const diffDays = Math.floor(diffMs / 86400000)\r\n\r\n  if (diffMins < 1) return 'just now'\r\n  if (diffMins < 60) return `${diffMins}m ago`\r\n  if (diffHours < 24) return `${diffHours}h ago`\r\n  if (diffDays < 7) return `${diffDays}d ago`\r\n  return date.toLocaleDateString()\r\n}\r\n\r\nconst startEdit = () => {\r\n  isEditing.value = true\r\n}\r\n\r\nconst cancelEdit = () => {\r\n  isEditing.value = false\r\n}\r\n\r\nconst handleEditSubmit = async (text: string) => {\r\n  try {\r\n    if (!props.comment) return\r\n    const updated = await updateComment(props.comment.comment_id, {\r\n      content_text: text\r\n    })\r\n    if (updated) {\r\n      isEditing.value = false\r\n      emit('comment-updated', updated)\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to update comment:', error)\r\n  }\r\n}\r\n\r\nconst handleDelete = async () => {\r\n  if (!props.comment || !confirm('Delete this comment?')) return\r\n  \r\n  try {\r\n    await deleteComment(props.comment.comment_id)\r\n    emit('comment-deleted', props.comment.comment_id)\r\n  } catch (error) {\r\n    console.error('Failed to delete comment:', error)\r\n  }\r\n}\r\n\r\nconst toggleReply = () => {\r\n  showReplyInput.value = !showReplyInput.value\r\n}\r\n\r\nconst handleReplySubmit = async (text: string) => {\r\n  try {\r\n    if (!props.comment) return\r\n    const reply = await addComment({\r\n      post_id: props.postId,\r\n      content_text: text,\r\n      parent_id: props.comment.comment_id\r\n    })\r\n    \r\n    if (reply) {\r\n      showReplyInput.value = false\r\n      replies.value.unshift(reply)\r\n      showReplies.value = true\r\n      emit('reply-added', reply)\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to add reply:', error)\r\n  }\r\n}\r\n\r\nconst loadReplies = async () => {\r\n  if (!props.comment) return\r\n  loadingReplies.value = true\r\n  try {\r\n    replies.value = await loadCommentReplies(props.comment.comment_id)\r\n    showReplies.value = true\r\n  } catch (error) {\r\n    console.error('Failed to load replies:', error)\r\n  } finally {\r\n    loadingReplies.value = false\r\n  }\r\n}\r\n\r\nconst handleReplyAdded = (reply: Comment) => {\r\n  emit('reply-added', reply)\r\n}\r\n\r\nconst viewFullThread = () => {\r\n  if (!props.comment) return\r\n  // Navigate to full thread view\r\n  console.log('View full thread for comment:', props.comment.comment_id)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.comment-item {\r\n  padding: var(--spacing-4);\r\n  border-radius: var(--radius-md);\r\n  transition: background 0.2s;\r\n}\r\n\r\n.comment-item:hover {\r\n  background: var(--color-bg-secondary);\r\n}\r\n\r\n.comment-item.is-reply {\r\n  padding-top: var(--spacing-3);\r\n  padding-bottom: var(--spacing-3);\r\n}\r\n\r\n.comment-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-3);\r\n  margin-bottom: var(--spacing-3);\r\n}\r\n\r\n.comment-avatar {\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.comment-item.is-reply .comment-avatar {\r\n  width: 28px;\r\n  height: 28px;\r\n}\r\n\r\n.comment-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.comment-author {\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.comment-time,\r\n.comment-edited {\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n}\r\n\r\n.comment-body {\r\n  margin-bottom: var(--spacing-3);\r\n  padding-left: calc(36px + var(--spacing-3));\r\n}\r\n\r\n.comment-item.is-reply .comment-body {\r\n  padding-left: calc(28px + var(--spacing-3));\r\n}\r\n\r\n.comment-content {\r\n  color: var(--color-text-primary);\r\n  line-height: 1.6;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.comment-actions {\r\n  display: flex;\r\n  gap: var(--spacing-2);\r\n  padding-left: calc(36px + var(--spacing-3));\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.comment-item.is-reply .comment-actions {\r\n  padding-left: calc(28px + var(--spacing-3));\r\n}\r\n\r\n.action-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-1);\r\n  padding: var(--spacing-1) var(--spacing-2);\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: var(--radius-sm);\r\n  cursor: pointer;\r\n  color: var(--color-text-secondary);\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.action-btn:hover {\r\n  background: var(--color-bg-primary);\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.action-btn.delete:hover {\r\n  background: #fee2e2;\r\n  color: #dc2626;\r\n}\r\n\r\n.reply-input,\r\n.comment-edit {\r\n  margin-top: var(--spacing-3);\r\n}\r\n\r\n.comment-replies {\r\n  margin-top: var(--spacing-2);\r\n}\r\n\r\n.load-replies,\r\n.view-full-thread {\r\n  margin-top: var(--spacing-2);\r\n  padding-left: calc(36px + var(--spacing-3));\r\n}\r\n\r\n.btn-load-replies,\r\n.btn-view-thread {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  padding: var(--spacing-2);\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: var(--radius-sm);\r\n  cursor: pointer;\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-load-replies:hover,\r\n.btn-view-thread:hover {\r\n  background: rgba(99, 102, 241, 0.1);\r\n}\r\n\r\n.loading-replies {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  padding: var(--spacing-3);\r\n  padding-left: calc(36px + var(--spacing-3));\r\n  color: var(--color-text-secondary);\r\n}\r\n\r\n.spinner {\r\n  width: 16px;\r\n  height: 16px;\r\n  border: 2px solid rgba(0, 0, 0, 0.1);\r\n  border-left-color: var(--color-primary);\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n</style>","<template>\r\n  <div class=\"comment-section\">\r\n    <!-- Comment Section Header -->\r\n    <div class=\"comments-header\">\r\n      <h3 class=\"comments-title\">\r\n        <span class=\"icon\">üí¨</span>\r\n        <span>Comments ({{ comments.length }})</span>\r\n      </h3>\r\n      \r\n      <select v-model=\"sortBy\" @change=\"handleSortChange\" class=\"sort-select\">\r\n        <option value=\"newest\">Newest First</option>\r\n        <option value=\"oldest\">Oldest First</option>\r\n        <option value=\"popular\">Most Popular</option>\r\n      </select>\r\n    </div>\r\n\r\n    <!-- Add Comment Input -->\r\n    <div class=\"add-comment\">\r\n      <CommentInput\r\n        :post-id=\"postId\"\r\n        :placeholder=\"'Add a comment...'\"\r\n        @submit=\"handleCommentSubmit\"\r\n      />\r\n    </div>\r\n\r\n    <!-- Comments List -->\r\n    <div class=\"comments-list\">\r\n      <div v-if=\"loading\" class=\"loading-container\">\r\n        <div class=\"spinner\"></div>\r\n        <p>Loading comments...</p>\r\n      </div>\r\n\r\n      <div v-else-if=\"error\" class=\"error-container\">\r\n        <p>{{ error }}</p>\r\n        <button @click=\"loadComments(sortBy)\" class=\"btn-retry\">Retry</button>\r\n      </div>\r\n\r\n      <div v-else-if=\"comments.length === 0\" class=\"empty-state\">\r\n        <span class=\"empty-icon\">üí¨</span>\r\n        <p>No comments yet</p>\r\n        <p class=\"empty-hint\">Be the first to comment!</p>\r\n      </div>\r\n\r\n      <div v-else class=\"comments\">\r\n        <CommentItem\r\n          v-for=\"(comment, index) in comments\"\r\n          :key=\"comment.comment_id\"\r\n          :comment=\"comment\"\r\n          :post-id=\"postId\"\r\n          :depth=\"0\"\r\n          :max-depth=\"maxDepth\"\r\n          @reply-added=\"handleReplyAdded\"\r\n          @comment-updated=\"handleCommentUpdated\"\r\n          @comment-deleted=\"handleCommentDeleted\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch } from 'vue'\r\nimport { useComments } from '@/composables/useComments'\r\nimport type { Comment } from '@/types/comment'\r\nimport CommentInput from './CommentInput.vue'\r\nimport CommentItem from './CommentItem.vue'\r\n\r\nconst props = defineProps<{\r\n  postId: number\r\n  maxDepth?: number\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  (e: 'comment-created', comment: Comment): void\r\n  (e: 'comment-deleted', commentId: number): void\r\n  (e: 'comment-updated', comment: Comment): void\r\n}>()\r\n\r\nconst maxDepth = ref(props.maxDepth || 3)\r\nconst sortBy = ref<'newest' | 'oldest' | 'popular'>('newest')\r\n\r\nconst {\r\n  comments,\r\n  loading,\r\n  error,\r\n  loadComments,\r\n  addComment\r\n} = useComments(ref(props.postId))\r\n\r\nconst handleSortChange = () => {\r\n  loadComments(sortBy.value)\r\n}\r\n\r\n// Add debugging for comments\r\nwatch(comments, (newComments: Comment[]) => {\r\n  console.log('Comments updated:', newComments)\r\n  console.log('Comments length:', newComments.length)\r\n})\r\n\r\nconst handleCommentSubmit = async (text: string) => {\r\n  try {\r\n    const newComment = await addComment({\r\n      post_id: props.postId,\r\n      content_text: text\r\n    })\r\n    \r\n    if (newComment) {\r\n      emit('comment-created', newComment)\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to add comment:', error)\r\n  }\r\n}\r\n\r\nconst handleReplyAdded = (reply: Comment) => {\r\n  emit('comment-created', reply)\r\n}\r\n\r\nconst handleCommentUpdated = (comment: Comment) => {\r\n  emit('comment-updated', comment)\r\n}\r\n\r\nconst handleCommentDeleted = (commentId: number) => {\r\n  emit('comment-deleted', commentId)\r\n}\r\n\r\nonMounted(() => {\r\n  loadComments(sortBy.value)\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.comment-section {\r\n  background: var(--color-bg-elevated);\r\n  border-radius: var(--radius-lg);\r\n  overflow: hidden;\r\n}\r\n\r\n.comments-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: var(--spacing-4);\r\n  border-bottom: 2px solid var(--color-border);\r\n}\r\n\r\n.comments-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  color: var(--color-text-primary);\r\n  margin: 0;\r\n}\r\n\r\n.comments-title .icon {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.sort-select {\r\n  padding: var(--spacing-2) var(--spacing-3);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: var(--radius-md);\r\n  background: var(--color-bg-secondary);\r\n  color: var(--color-text-primary);\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n\r\n.add-comment {\r\n  border-bottom: 2px solid var(--color-border);\r\n}\r\n\r\n.comments-list {\r\n  min-height: 200px;\r\n}\r\n\r\n.loading-container,\r\n.error-container,\r\n.empty-state {\r\n  text-align: center;\r\n  padding: var(--spacing-8);\r\n}\r\n\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin: 0 auto var(--spacing-4);\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-left-color: var(--color-primary);\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.error-container p {\r\n  color: #dc2626;\r\n  margin-bottom: var(--spacing-4);\r\n}\r\n\r\n.btn-retry {\r\n  padding: var(--spacing-2) var(--spacing-4);\r\n  background: var(--color-primary);\r\n  color: white;\r\n  border: none;\r\n  border-radius: var(--radius-md);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-retry:hover {\r\n  background: var(--color-primary-dark);\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 3rem;\r\n  display: block;\r\n  margin-bottom: var(--spacing-3);\r\n  opacity: 0.5;\r\n}\r\n\r\n.empty-state p {\r\n  color: var(--color-text-secondary);\r\n  margin: 0;\r\n}\r\n\r\n.empty-hint {\r\n  font-size: 0.875rem;\r\n  margin-top: var(--spacing-2);\r\n}\r\n\r\n.comments {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>","/**\n * marked v16.4.1 - a markdown parser\n * Copyright (c) 2011-2025, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=L();function G(u){T=u}var I={exec:()=>null};function h(u,e=\"\"){let t=typeof u==\"string\"?u:u.source,n={replace:(r,i)=>{let s=typeof i==\"string\"?i:i.source;return s=s.replace(m.caret,\"$1\"),t=t.replace(r,s),n},getRegex:()=>new RegExp(t,e)};return n}var m={codeRemoveIndent:/^(?: {1,4}| {0,3}\\t)/gm,outputLinkReplace:/\\\\([\\[\\]])/g,indentCodeCompensation:/^(\\s+)(?:```)/,beginningSpace:/^\\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\\n/g,tabCharGlobal:/\\t/g,multipleSpaceGlobal:/\\s+/g,blankLine:/^[ \\t]*$/,doubleBlankLine:/\\n[ \\t]*\\n[ \\t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\\n {0,3}((?:=+|-+) *)(?=\\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \\t]?/gm,listReplaceTabs:/^\\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\\[[ xX]\\] /,listReplaceTask:/^\\[[ xX]\\] +/,anyLine:/\\n.*\\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\\||\\| *$/g,tableRowBlankLine:/\\n[ \\t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\\s|>)/i,endPreScriptTag:/^<\\/(pre|code|kbd|script)(\\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/,unicodeAlphaNumeric:/[\\p{L}\\p{N}]/u,escapeTest:/[&<>\"']/,escapeReplace:/[&<>\"']/g,escapeTestNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/,escapeReplaceNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/g,unescapeTest:/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig,caret:/(^|[^\\[])\\^/g,percentDecode:/%25/g,findPipe:/\\|/g,splitPipe:/ \\|/,slashPipe:/\\\\\\|/g,carriageReturn:/\\r\\n|\\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\\S*/,endingNewline:/\\n$/,listItemRegex:u=>new RegExp(`^( {0,3}${u})((?:[\t ][^\\\\n]*)?(?:\\\\n|$))`),nextBulletRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \t][^\\\\n]*)?(?:\\\\n|$))`),hrRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`),fencesBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\\`\\`\\`|~~~)`),headingBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}#`),htmlBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}<(?:[a-z].*>|!--)`,\"i\")},be=/^(?:[ \\t]*(?:\\n|$))+/,Re=/^((?: {4}| {0,3}\\t)[^\\n]+(?:\\n(?:[ \\t]*(?:\\n|$))*)?)+/,Te=/^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,E=/^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,Oe=/^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,F=/(?:[*+-]|\\d{1,9}[.)])/,ie=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\\n(?!\\s*?\\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,oe=h(ie).replace(/bull/g,F).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/\\|table/g,\"\").getRegex(),we=h(ie).replace(/bull/g,F).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/table/g,/ {0,3}\\|?(?:[:\\- ]*\\|)+[\\:\\- ]*\\n/).getRegex(),j=/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,ye=/^[^\\n]+/,Q=/(?!\\s*\\])(?:\\\\[\\s\\S]|[^\\[\\]\\\\])+/,Pe=h(/^ {0,3}\\[(label)\\]: *(?:\\n[ \\t]*)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n[ \\t]*)?| *\\n[ \\t]*)(title))? *(?:\\n+|$)/).replace(\"label\",Q).replace(\"title\",/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/).getRegex(),Se=h(/^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/).replace(/bull/g,F).getRegex(),v=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",U=/<!--(?:-?>|[\\s\\S]*?(?:-->|$))/,$e=h(\"^ {0,3}(?:<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$))\",\"i\").replace(\"comment\",U).replace(\"tag\",v).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),ae=h(j).replace(\"hr\",E).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),_e=h(/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/).replace(\"paragraph\",ae).getRegex(),K={blockquote:_e,code:Re,def:Pe,fences:Te,heading:Oe,hr:E,html:$e,lheading:oe,list:Se,newline:be,paragraph:ae,table:I,text:ye},re=h(\"^ *([^\\\\n ].*)\\\\n {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\").replace(\"hr\",E).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\"(?: {4}| {0,3}\t)[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),Le={...K,lheading:we,table:re,paragraph:h(j).replace(\"hr\",E).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"table\",re).replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex()},Me={...K,html:h(`^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\\\s[^'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))`).replace(\"comment\",U).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,heading:/^(#{1,6})(.*)(?:\\n+|$)/,fences:I,lheading:/^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,paragraph:h(j).replace(\"hr\",E).replace(\"heading\",` *#{1,6} *[^\n]`).replace(\"lheading\",oe).replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"|fences\",\"\").replace(\"|list\",\"\").replace(\"|html\",\"\").replace(\"|tag\",\"\").getRegex()},ze=/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,Ae=/^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,le=/^( {2,}|\\\\)\\n(?!\\s*$)/,Ie=/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,D=/[\\p{P}\\p{S}]/u,W=/[\\s\\p{P}\\p{S}]/u,ue=/[^\\s\\p{P}\\p{S}]/u,Ee=h(/^((?![*_])punctSpace)/,\"u\").replace(/punctSpace/g,W).getRegex(),pe=/(?!~)[\\p{P}\\p{S}]/u,Ce=/(?!~)[\\s\\p{P}\\p{S}]/u,Be=/(?:[^\\s\\p{P}\\p{S}]|~)/u,qe=h(/link|code|html/,\"g\").replace(\"link\",/\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)/).replace(\"code\",/(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)/).replace(\"html\",/<(?! )[^<>]*?>/).getRegex(),ce=/^(?:\\*+(?:((?!\\*)punct)|[^\\s*]))|^_+(?:((?!_)punct)|([^\\s_]))/,ve=h(ce,\"u\").replace(/punct/g,D).getRegex(),De=h(ce,\"u\").replace(/punct/g,pe).getRegex(),he=\"^[^_*]*?__[^_*]*?\\\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\\\*)punct(\\\\*+)(?=[\\\\s]|$)|notPunctSpace(\\\\*+)(?!\\\\*)(?=punctSpace|$)|(?!\\\\*)punctSpace(\\\\*+)(?=notPunctSpace)|[\\\\s](\\\\*+)(?!\\\\*)(?=punct)|(?!\\\\*)punct(\\\\*+)(?!\\\\*)(?=punct)|notPunctSpace(\\\\*+)(?=notPunctSpace)\",He=h(he,\"gu\").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W).replace(/punct/g,D).getRegex(),Ze=h(he,\"gu\").replace(/notPunctSpace/g,Be).replace(/punctSpace/g,Ce).replace(/punct/g,pe).getRegex(),Ge=h(\"^[^_*]*?\\\\*\\\\*[^_*]*?_[^_*]*?(?=\\\\*\\\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)\",\"gu\").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W).replace(/punct/g,D).getRegex(),Ne=h(/\\\\(punct)/,\"gu\").replace(/punct/g,D).getRegex(),Fe=h(/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/).replace(\"scheme\",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace(\"email\",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),je=h(U).replace(\"(?:-->|$)\",\"-->\").getRegex(),Qe=h(\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\").replace(\"comment\",je).replace(\"attribute\",/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/).getRegex(),q=/(?:\\[(?:\\\\[\\s\\S]|[^\\[\\]\\\\])*\\]|\\\\[\\s\\S]|`+[^`]*?`+(?!`)|[^\\[\\]\\\\`])*?/,Ue=h(/^!?\\[(label)\\]\\(\\s*(href)(?:(?:[ \\t]*(?:\\n[ \\t]*)?)(title))?\\s*\\)/).replace(\"label\",q).replace(\"href\",/<(?:\\\\.|[^\\n<>\\\\])+>|[^ \\t\\n\\x00-\\x1f]*/).replace(\"title\",/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/).getRegex(),de=h(/^!?\\[(label)\\]\\[(ref)\\]/).replace(\"label\",q).replace(\"ref\",Q).getRegex(),ke=h(/^!?\\[(ref)\\](?:\\[\\])?/).replace(\"ref\",Q).getRegex(),Ke=h(\"reflink|nolink(?!\\\\()\",\"g\").replace(\"reflink\",de).replace(\"nolink\",ke).getRegex(),se=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,X={_backpedal:I,anyPunctuation:Ne,autolink:Fe,blockSkip:qe,br:le,code:Ae,del:I,emStrongLDelim:ve,emStrongRDelimAst:He,emStrongRDelimUnd:Ge,escape:ze,link:Ue,nolink:ke,punctuation:Ee,reflink:de,reflinkSearch:Ke,tag:Qe,text:Ie,url:I},We={...X,link:h(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",q).getRegex(),reflink:h(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",q).getRegex()},N={...X,emStrongRDelimAst:Ze,emStrongLDelim:De,url:h(/^((?:protocol):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/).replace(\"protocol\",se).replace(\"email\",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,del:/^(~~?)(?=[^\\s~])((?:\\\\[\\s\\S]|[^\\\\])*?(?:\\\\[\\s\\S]|[^\\s~\\\\]))\\1(?=[^~]|$)/,text:h(/^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|protocol:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/).replace(\"protocol\",se).getRegex()},Xe={...N,br:h(le).replace(\"{2,}\",\"*\").getRegex(),text:h(N.text).replace(\"\\\\b_\",\"\\\\b_| {2,}\\\\n\").replace(/\\{2,\\}/g,\"*\").getRegex()},C={normal:K,gfm:Le,pedantic:Me},M={normal:X,gfm:N,breaks:Xe,pedantic:We};var Je={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},ge=u=>Je[u];function w(u,e){if(e){if(m.escapeTest.test(u))return u.replace(m.escapeReplace,ge)}else if(m.escapeTestNoEncode.test(u))return u.replace(m.escapeReplaceNoEncode,ge);return u}function J(u){try{u=encodeURI(u).replace(m.percentDecode,\"%\")}catch{return null}return u}function V(u,e){let t=u.replace(m.findPipe,(i,s,o)=>{let a=!1,l=s;for(;--l>=0&&o[l]===\"\\\\\";)a=!a;return a?\"|\":\" |\"}),n=t.split(m.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].trim().replace(m.slashPipe,\"|\");return n}function z(u,e,t){let n=u.length;if(n===0)return\"\";let r=0;for(;r<n;){let i=u.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return u.slice(0,n-r)}function fe(u,e){if(u.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<u.length;n++)if(u[n]===\"\\\\\")n++;else if(u[n]===e[0])t++;else if(u[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function me(u,e,t,n,r){let i=e.href,s=e.title||null,o=u[1].replace(r.other.outputLinkReplace,\"$1\");n.state.inLink=!0;let a={type:u[0].charAt(0)===\"!\"?\"image\":\"link\",raw:t,href:i,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,a}function Ve(u,e,t){let n=u.match(t.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`\n`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`\n`)}var y=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:\"space\",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,\"\");return{type:\"code\",raw:t[0],codeBlockStyle:\"indented\",text:this.options.pedantic?n:z(n,`\n`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=Ve(n,t[3]||\"\",this.rules);return{type:\"code\",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,\"$1\"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=z(n,\"#\");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:\"heading\",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:\"hr\",raw:z(t[0],`\n`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=z(t[0],`\n`).split(`\n`),r=\"\",i=\"\",s=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let c=a.join(`\n`),p=c.replace(this.rules.other.blockquoteSetextReplace,`\n    $1`).replace(this.rules.other.blockquoteSetextReplace2,\"\");r=r?`${r}\n${c}`:c,i=i?`${i}\n${p}`:p;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=g,n.length===0)break;let d=s.at(-1);if(d?.type===\"code\")break;if(d?.type===\"blockquote\"){let R=d,f=R.raw+`\n`+n.join(`\n`),O=this.blockquote(f);s[s.length-1]=O,r=r.substring(0,r.length-R.raw.length)+O.raw,i=i.substring(0,i.length-R.text.length)+O.text;break}else if(d?.type===\"list\"){let R=d,f=R.raw+`\n`+n.join(`\n`),O=this.list(f);s[s.length-1]=O,r=r.substring(0,r.length-d.raw.length)+O.raw,i=i.substring(0,i.length-R.raw.length)+O.raw,n=f.substring(s.at(-1).raw.length).split(`\n`);continue}}return{type:\"blockquote\",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:\"list\",raw:\"\",ordered:r,start:r?+n.slice(0,-1):\"\",loose:!1,items:[]};n=r?`\\\\d{1,9}\\\\${n.slice(-1)}`:`\\\\${n}`,this.options.pedantic&&(n=r?n:\"[*+-]\");let s=this.rules.other.listItemRegex(n),o=!1;for(;e;){let l=!1,c=\"\",p=\"\";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let g=t[2].split(`\n`,1)[0].replace(this.rules.other.listReplaceTabs,H=>\" \".repeat(3*H.length)),d=e.split(`\n`,1)[0],R=!g.trim(),f=0;if(this.options.pedantic?(f=2,p=g.trimStart()):R?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,p=g.slice(f),f+=t[1].length),R&&this.rules.other.blankLine.test(d)&&(c+=d+`\n`,e=e.substring(d.length+1),l=!0),!l){let H=this.rules.other.nextBulletRegex(f),ee=this.rules.other.hrRegex(f),te=this.rules.other.fencesBeginRegex(f),ne=this.rules.other.headingBeginRegex(f),xe=this.rules.other.htmlBeginRegex(f);for(;e;){let Z=e.split(`\n`,1)[0],A;if(d=Z,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,\"  \"),A=d):A=d.replace(this.rules.other.tabCharGlobal,\"    \"),te.test(d)||ne.test(d)||xe.test(d)||H.test(d)||ee.test(d))break;if(A.search(this.rules.other.nonSpaceChar)>=f||!d.trim())p+=`\n`+A.slice(f);else{if(R||g.replace(this.rules.other.tabCharGlobal,\"    \").search(this.rules.other.nonSpaceChar)>=4||te.test(g)||ne.test(g)||ee.test(g))break;p+=`\n`+d}!R&&!d.trim()&&(R=!0),c+=Z+`\n`,e=e.substring(Z.length+1),g=A.slice(f)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let O=null,Y;this.options.gfm&&(O=this.rules.other.listIsTask.exec(p),O&&(Y=O[0]!==\"[ ] \",p=p.replace(this.rules.other.listReplaceTask,\"\"))),i.items.push({type:\"list_item\",raw:c,task:!!O,checked:Y,loose:!1,text:p,tokens:[]}),i.raw+=c}let a=i.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let c=i.items[l].tokens.filter(g=>g.type===\"space\"),p=c.length>0&&c.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=p}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:\"html\",block:!0,raw:t[0],pre:t[1]===\"pre\"||t[1]===\"script\"||t[1]===\"style\",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal,\" \"),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,\"$1\").replace(this.rules.inline.anyPunctuation,\"$1\"):\"\",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,\"$1\"):t[3];return{type:\"def\",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=V(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,\"\").split(\"|\"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,\"\").split(`\n`):[],s={type:\"table\",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?s.align.push(\"right\"):this.rules.other.tableAlignCenter.test(o)?s.align.push(\"center\"):this.rules.other.tableAlignLeft.test(o)?s.align.push(\"left\"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(let o of i)s.rows.push(V(o,s.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:\"heading\",raw:t[0],depth:t[2].charAt(0)===\"=\"?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`\n`?t[1].slice(0,-1):t[1];return{type:\"paragraph\",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:\"text\",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:\"escape\",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:\"html\",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=z(n.slice(0,-1),\"\\\\\");if((n.length-s.length)%2===0)return}else{let s=fe(t[2],\"()\");if(s===-2)return;if(s>-1){let a=(t[0].indexOf(\"!\")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=\"\"}}let r=t[2],i=\"\";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):\"\";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),me(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,\"$1\"),title:i&&i.replace(this.rules.inline.anyPunctuation,\"$1\")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal,\" \"),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:\"text\",raw:s,text:s}}return me(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=\"\"){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||\"\")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,o,a,l=s,c=0,p=r[0][0]===\"*\"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+s);(r=p.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=[...o].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let g=[...r[0]][0].length,d=e.slice(0,s+r.index+g+a);if(Math.min(s,a)%2){let f=d.slice(1,-1);return{type:\"em\",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}let R=d.slice(2,-2);return{type:\"strong\",raw:d,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal,\" \"),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:\"codespan\",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:\"br\",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:\"del\",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]===\"@\"?(n=t[1],r=\"mailto:\"+n):(n=t[1],r=n),{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]===\"@\")n=t[0],r=\"mailto:\"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??\"\";while(i!==t[0]);n=t[0],t[1]===\"www.\"?r=\"http://\"+t[0]:r=t[0]}return{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:\"text\",raw:t[0],text:t[0],escaped:n}}}};var x=class u{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:C.normal,inline:M.normal};this.options.pedantic?(t.block=C.pedantic,t.inline=M.pedantic):this.options.gfm&&(t.block=C.gfm,this.options.breaks?t.inline=M.breaks:t.inline=M.gfm),this.tokenizer.rules=t}static get rules(){return{block:C,inline:M}}static lex(e,t){return new u(t).lex(e)}static lexInline(e,t){return new u(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`\n`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,\"    \").replace(m.spaceLine,\"\"));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`\n`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,o=e.slice(1),a;this.options.extensions.startBlock.forEach(l=>{a=l.call({lexer:this},o),typeof a==\"number\"&&a>=0&&(s=Math.min(s,a))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type===\"paragraph\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){let s=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf(\"[\")+1,-1))&&(n=n.slice(0,r.index)+\"[\"+\"a\".repeat(r[0].length-2)+\"]\"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+\"++\"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,r.index)+\"[\"+\"a\".repeat(r[0].length-2)+\"]\"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,s=\"\";for(;e;){i||(s=\"\"),i=!1;let o;if(this.options.extensions?.inline?.some(l=>(o=l.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let l=t.at(-1);o.type===\"text\"&&l?.type===\"text\"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,s)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let a=e;if(this.options.extensions?.startInline){let l=1/0,c=e.slice(1),p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},c),typeof p==\"number\"&&p>=0&&(l=Math.min(l,p))}),l<1/0&&l>=0&&(a=e.substring(0,l+1))}if(o=this.tokenizer.inlineText(a)){e=e.substring(o.raw.length),o.raw.slice(-1)!==\"_\"&&(s=o.raw.slice(-1)),i=!0;let l=t.at(-1);l?.type===\"text\"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(e){let l=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return t}};var P=class{options;parser;constructor(e){this.options=e||T}space(e){return\"\"}code({text:e,lang:t,escaped:n}){let r=(t||\"\").match(m.notSpaceStart)?.[0],i=e.replace(m.endingNewline,\"\")+`\n`;return r?'<pre><code class=\"language-'+w(r)+'\">'+(n?i:w(i,!0))+`</code></pre>\n`:\"<pre><code>\"+(n?i:w(i,!0))+`</code></pre>\n`}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return\"\"}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return`<hr>\n`}list(e){let t=e.ordered,n=e.start,r=\"\";for(let o=0;o<e.items.length;o++){let a=e.items[o];r+=this.listitem(a)}let i=t?\"ol\":\"ul\",s=t&&n!==1?' start=\"'+n+'\"':\"\";return\"<\"+i+s+`>\n`+r+\"</\"+i+`>\n`}listitem(e){let t=\"\";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type===\"paragraph\"?(e.tokens[0].text=n+\" \"+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type===\"text\"&&(e.tokens[0].tokens[0].text=n+\" \"+w(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:\"text\",raw:n+\" \",text:n+\" \",escaped:!0}):t+=n+\" \"}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t=\"\",n=\"\";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r=\"\";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n=\"\";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>\n<thead>\n`+t+`</thead>\n`+r+`</table>\n`}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?\"th\":\"td\";return(e.align?`<${n} align=\"${e.align}\">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${w(e,!0)}</code>`}br(e){return\"<br>\"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=J(e);if(i===null)return r;e=i;let s='<a href=\"'+e+'\"';return t&&(s+=' title=\"'+w(t)+'\"'),s+=\">\"+r+\"</a>\",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=J(e);if(i===null)return w(n);e=i;let s=`<img src=\"${e}\" alt=\"${n}\"`;return t&&(s+=` title=\"${w(t)}\"`),s+=\">\",s}text(e){return\"tokens\"in e&&e.tokens?this.parser.parseInline(e.tokens):\"escaped\"in e&&e.escaped?e.text:w(e.text)}};var $=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return\"\"+e}image({text:e}){return\"\"+e}br(){return\"\"}};var b=class u{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new u(t).parse(e)}static parseInline(e,t){return new u(t).parseInline(e)}parse(e,t=!0){let n=\"\";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let o=i,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||![\"space\",\"hr\",\"heading\",\"code\",\"table\",\"blockquote\",\"list\",\"html\",\"def\",\"paragraph\",\"text\"].includes(o.type)){n+=a||\"\";continue}}let s=i;switch(s.type){case\"space\":{n+=this.renderer.space(s);continue}case\"hr\":{n+=this.renderer.hr(s);continue}case\"heading\":{n+=this.renderer.heading(s);continue}case\"code\":{n+=this.renderer.code(s);continue}case\"table\":{n+=this.renderer.table(s);continue}case\"blockquote\":{n+=this.renderer.blockquote(s);continue}case\"list\":{n+=this.renderer.list(s);continue}case\"html\":{n+=this.renderer.html(s);continue}case\"def\":{n+=this.renderer.def(s);continue}case\"paragraph\":{n+=this.renderer.paragraph(s);continue}case\"text\":{let o=s,a=this.renderer.text(o);for(;r+1<e.length&&e[r+1].type===\"text\";)o=e[++r],a+=`\n`+this.renderer.text(o);t?n+=this.renderer.paragraph({type:\"paragraph\",raw:a,text:a,tokens:[{type:\"text\",raw:a,text:a,escaped:!0}]}):n+=a;continue}default:{let o='Token with \"'+s.type+'\" type was not found.';if(this.options.silent)return console.error(o),\"\";throw new Error(o)}}}return n}parseInline(e,t=this.renderer){let n=\"\";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||![\"escape\",\"html\",\"link\",\"image\",\"strong\",\"em\",\"codespan\",\"br\",\"del\",\"text\"].includes(i.type)){n+=o||\"\";continue}}let s=i;switch(s.type){case\"escape\":{n+=t.text(s);break}case\"html\":{n+=t.html(s);break}case\"link\":{n+=t.link(s);break}case\"image\":{n+=t.image(s);break}case\"strong\":{n+=t.strong(s);break}case\"em\":{n+=t.em(s);break}case\"codespan\":{n+=t.codespan(s);break}case\"br\":{n+=t.br(s);break}case\"del\":{n+=t.del(s);break}case\"text\":{n+=t.text(s);break}default:{let o='Token with \"'+s.type+'\" type was not found.';if(this.options.silent)return console.error(o),\"\";throw new Error(o)}}}return n}};var S=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\",\"emStrongMask\"]);static passThroughHooksRespectAsync=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}};var B=class{defaults=L();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b;Renderer=P;TextRenderer=$;Lexer=x;Tokenizer=y;Hooks=S;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case\"table\":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let o of s)n=n.concat(this.walkTokens(o.tokens,t));break}case\"list\":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let o=i[s].flat(1/0);n=n.concat(this.walkTokens(o,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error(\"extension name required\");if(\"renderer\"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...o){let a=i.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:t.renderers[i.name]=i.renderer}if(\"tokenizer\"in i){if(!i.level||i.level!==\"block\"&&i.level!==\"inline\")throw new Error(\"extension level must be 'block' or 'inline'\");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level===\"block\"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level===\"inline\"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}\"childTokens\"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new P(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if([\"options\",\"parser\"].includes(s))continue;let o=s,a=n.renderer[o],l=i[o];i[o]=(...c)=>{let p=a.apply(i,c);return p===!1&&(p=l.apply(i,c)),p||\"\"}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new y(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if([\"options\",\"rules\",\"lexer\"].includes(s))continue;let o=s,a=n.tokenizer[o],l=i[o];i[o]=(...c)=>{let p=a.apply(i,c);return p===!1&&(p=l.apply(i,c)),p}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new S;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if([\"options\",\"block\"].includes(s))continue;let o=s,a=n.hooks[o],l=i[o];S.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await a.call(i,c);return l.call(i,g)})();let p=a.call(i,c);return l.call(i,p)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let g=await a.apply(i,c);return g===!1&&(g=await l.apply(i,c)),g})();let p=a.apply(i,c);return p===!1&&(p=l.apply(i,c)),p}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),i&&(a=a.concat(i.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return x.lex(e,t??this.defaults)}parser(e,t){return b.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error(\"marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise.\"));if(typeof n>\"u\"||n===null)return o(new Error(\"marked(): input parameter is undefined or null\"));if(typeof n!=\"string\")return o(new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(n)+\", string expected\"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(n):n,c=await(s.hooks?await s.hooks.provideLexer():e?x.lex:x.lexInline)(a,s),p=s.hooks?await s.hooks.processAllTokens(c):c;s.walkTokens&&await Promise.all(this.walkTokens(p,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():e?b.parse:b.parseInline)(p,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let l=(s.hooks?s.hooks.provideLexer():e?x.lex:x.lexInline)(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let p=(s.hooks?s.hooks.provideParser():e?b.parse:b.parseInline)(l,s);return s.hooks&&(p=s.hooks.postprocess(p)),p}catch(a){return o(a)}}}onError(e,t){return n=>{if(n.message+=`\nPlease report this to https://github.com/markedjs/marked.`,e){let r=\"<p>An error occurred:</p><pre>\"+w(n.message+\"\",!0)+\"</pre>\";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};var _=new B;function k(u,e){return _.parse(u,e)}k.options=k.setOptions=function(u){return _.setOptions(u),k.defaults=_.defaults,G(k.defaults),k};k.getDefaults=L;k.defaults=T;k.use=function(...u){return _.use(...u),k.defaults=_.defaults,G(k.defaults),k};k.walkTokens=function(u,e){return _.walkTokens(u,e)};k.parseInline=_.parseInline;k.Parser=b;k.parser=b.parse;k.Renderer=P;k.TextRenderer=$;k.Lexer=x;k.lexer=x.lex;k.Tokenizer=y;k.Hooks=S;k.parse=k;var Ht=k.options,Zt=k.setOptions,Gt=k.use,Nt=k.walkTokens,Ft=k.parseInline,jt=k,Qt=b.parse,Ut=x.lex;export{S as Hooks,x as Lexer,B as Marked,b as Parser,P as Renderer,$ as TextRenderer,y as Tokenizer,T as defaults,L as getDefaults,Ut as lexer,k as marked,Ht as options,jt as parse,Ft as parseInline,Qt as parser,Zt as setOptions,Gt as use,Nt as walkTokens};\n//# sourceMappingURL=marked.esm.js.map\n","<template>\r\n  <div class=\"wall-view\">\r\n    <div v-if=\"loading\" class=\"loading-container\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Loading wall...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"error-container\">\r\n      <h2>Error Loading Wall</h2>\r\n      <p>{{ error }}</p>\r\n      <button @click=\"$router.push('/')\" class=\"btn-primary\">Go Home</button>\r\n    </div>\r\n\r\n    <div v-else-if=\"wall\" class=\"wall-content\">\r\n      <!-- Wall Header -->\r\n      <div class=\"wall-header\">\r\n        <div class=\"wall-banner\" :style=\"bannerStyle\"></div>\r\n        <div class=\"wall-info\">\r\n          <div class=\"wall-avatar\">\r\n            <img :src=\"wall.owner_avatar || wall.avatar_url || '/assets/images/default-avatar.svg'\" :alt=\"wall.owner_username || wall.display_name\" />\r\n          </div>\r\n          <div class=\"wall-details\">\r\n            <h1 class=\"wall-title\">{{ wall.display_name }}</h1>\r\n            <p v-if=\"wall.owner_username\" class=\"wall-owner\">by @{{ wall.owner_username }}</p>\r\n            <p v-if=\"wall.owner_bio\" class=\"wall-description\">{{ wall.owner_bio }}</p>\r\n          </div>\r\n          <div class=\"wall-stats\">\r\n            <div class=\"stat\">\r\n              <span class=\"stat-value\">{{ wall.posts_count || 0 }}</span>\r\n              <span class=\"stat-label\">Posts</span>\r\n            </div>\r\n            <div class=\"stat\">\r\n              <span class=\"stat-value\">{{ wall.subscribers_count || 0 }}</span>\r\n              <span class=\"stat-label\">Followers</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Posts Feed -->\r\n      <div class=\"posts-section\">\r\n        <h2 class=\"section-title\">Posts</h2>\r\n        \r\n        <div v-if=\"loadingPosts\" class=\"loading-posts\">\r\n          <div class=\"spinner\"></div>\r\n          <p>Loading posts...</p>\r\n        </div>\r\n\r\n        <div v-else-if=\"posts.length === 0\" class=\"empty-state\">\r\n          <p>No posts yet on this wall.</p>\r\n          <button v-if=\"isOwnWall\" @click=\"createPost\" class=\"btn-primary\">Create First Post</button>\r\n        </div>\r\n\r\n        <div v-else class=\"posts-grid\">\r\n          <div v-for=\"post in visiblePosts\" :key=\"post.post_id\" class=\"post-card\" :class=\"{ 'ai-post': post.post_type === 'ai_app' }\">\r\n            <!-- AI Generation Real-time Progress (if AI post is generating) -->\r\n            <AIGenerationProgress \r\n              v-if=\"post.post_type === 'ai_app' && (post.ai_status === 'queued' || post.ai_status === 'processing') && post.ai_job_id\"\r\n              :jobId=\"post.ai_job_id\"\r\n              :modelName=\"post.ai_model\"\r\n              :auto-start=\"true\"\r\n              @complete=\"handleGenerationComplete(post)\"\r\n              @error=\"handleGenerationError(post, $event)\"\r\n            />\r\n            \r\n            <!-- Show Prompt and Partial Content for Generating Posts -->\r\n            <div v-if=\"post.post_type === 'ai_app' && (post.ai_status === 'queued' || post.ai_status === 'processing') && post.ai_job_id\" class=\"ai-content-info\">\r\n              <!-- Show the prompt -->\r\n              <div v-if=\"post.ai_content?.user_prompt\" class=\"ai-preview-prompt\">\r\n                <strong>Prompt:</strong> {{ truncateText(post.ai_content.user_prompt, 150) }}\r\n              </div>\r\n              \r\n              <!-- Show partial response if available -->\r\n              <div v-if=\"post.ai_content?.html_content\">\r\n                <div class=\"ai-preview-response\">\r\n                  <strong>Generated Response:</strong>\r\n                </div>\r\n                <div class=\"ai-preview-text ai-generating\" v-html=\"getPreviewHtml(post.ai_content.html_content)\"></div>\r\n              </div>\r\n              \r\n              <!-- Button to open modal - always show for processing posts -->\r\n              <button v-if=\"post.ai_status === 'processing'\" @click=\"openAIModal(post)\" class=\"btn-open-ai\">\r\n                <span class=\"icon\">üëÅÔ∏è</span>\r\n                <span>{{ post.ai_content?.html_content ? 'View Full Response' : 'Watch Generation' }}</span>\r\n              </button>\r\n            </div>\r\n            \r\n            <!-- Regular Post Header (only for non-AI posts) -->\r\n            <div v-if=\"post.post_type !== 'ai_app'\" class=\"post-header\">\r\n              <img :src=\"post.author_avatar || '/assets/images/default-avatar.svg'\" :alt=\"post.author_username\" class=\"post-avatar\" />\r\n              <div class=\"post-meta\">\r\n                <span class=\"post-author\">@{{ post.author_username }}</span>\r\n                <span class=\"post-time\">{{ formatDate(post.created_at) }}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Regular Post Content (only for non-AI posts) -->\r\n            <div v-if=\"post.post_type !== 'ai_app'\" class=\"post-content\">\r\n              <div v-if=\"post.content_html\" v-html=\"post.content_html\"></div>\r\n              <p v-else>{{ post.content_text }}</p>\r\n            </div>\r\n            \r\n            <!-- AI Generated Content Preview (if completed) -->\r\n            <div v-if=\"post.post_type === 'ai_app' && post.ai_status === 'completed'\" class=\"ai-content-preview\">\r\n              <div class=\"ai-preview-header\">\r\n                <img :src=\"post.author_avatar || '/assets/images/default-avatar.svg'\" :alt=\"post.author_username\" class=\"preview-avatar\" />\r\n                <h4>@{{ post.author_username }}</h4>\r\n              </div>\r\n              \r\n              <!-- Status and Bricks Info -->\r\n              <div class=\"ai-generation-info\">\r\n                <div class=\"info-item status-completed\">\r\n                  <strong>Status:</strong> \r\n                  <span class=\"status-badge\">‚úì Completed</span>\r\n                </div>\r\n                <div v-if=\"post.ai_content?.bricks_cost\" class=\"info-item bricks-spent\">\r\n                  <strong>Bricks spent:</strong> \r\n                  <span class=\"bricks-amount\">{{ post.ai_content.bricks_cost }} üß±</span>\r\n                </div>\r\n                <div v-if=\"post.ai_content?.generation_model\" class=\"info-item model-used\">\r\n                  <strong>Model:</strong> \r\n                  <span class=\"model-name\">{{ post.ai_content.generation_model }}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- Generation Stats -->\r\n              <div class=\"ai-generation-stats\" v-if=\"post.ai_content?.generation_time || post.ai_content?.total_tokens\">\r\n                <div v-if=\"post.ai_content?.generation_time\" class=\"stat-item\">\r\n                  <strong>Time:</strong> \r\n                  <span class=\"stat-value\">{{ (post.ai_content.generation_time / 1000).toFixed(2) }}s</span>\r\n                </div>\r\n                <div v-if=\"post.ai_content?.total_tokens\" class=\"stat-item\">\r\n                  <strong>Total Tokens:</strong> \r\n                  <span class=\"stat-value\">{{ post.ai_content.total_tokens.toLocaleString() }}</span>\r\n                </div>\r\n                <div v-if=\"getAverageSpeed(post) > 0\" class=\"stat-item\">\r\n                  <strong>Avg Speed:</strong> \r\n                  <span class=\"stat-value\">{{ getAverageSpeed(post).toFixed(2) }} tok/s</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div v-if=\"post.ai_content?.user_prompt\" class=\"ai-preview-prompt\">\r\n                <strong>Prompt:</strong> {{ truncateText(post.ai_content.user_prompt, 150) }}\r\n              </div>\r\n              <div v-if=\"post.ai_content?.html_content\" class=\"ai-preview-response\">\r\n                <strong>Response:</strong>\r\n              </div>\r\n              <div v-if=\"post.ai_content?.html_content\" class=\"ai-preview-text\" v-html=\"getPreviewHtml(post.ai_content.html_content)\"></div>\r\n              <button @click=\"openAIModal(post)\" class=\"btn-open-ai\">\r\n                <span class=\"icon\">üëÅÔ∏è</span>\r\n                <span>View Full Response</span>\r\n              </button>\r\n            </div>\r\n            \r\n            <!-- AI Content In Progress (only show if no job_id for progress component) -->\r\n            <div v-if=\"post.post_type === 'ai_app' && (post.ai_status === 'queued' || post.ai_status === 'processing') && !post.ai_job_id\" class=\"ai-content-preview\">\r\n              <div class=\"ai-preview-header\">\r\n                <img :src=\"post.author_avatar || '/assets/images/default-avatar.svg'\" :alt=\"post.author_username\" class=\"preview-avatar\" />\r\n                <h4>@{{ post.author_username }}</h4>\r\n              </div>\r\n              \r\n              <!-- Status and Model Info -->\r\n              <div class=\"ai-generation-info\">\r\n                <div class=\"info-item status-processing\">\r\n                  <strong>Status:</strong> \r\n                  <span class=\"status-badge processing\">{{ post.ai_status === 'queued' ? '‚è≥ Queued' : '‚è≥ Processing' }}</span>\r\n                </div>\r\n                <div v-if=\"post.ai_content?.generation_model\" class=\"info-item model-used\">\r\n                  <strong>Model:</strong> \r\n                  <span class=\"model-name\">{{ post.ai_content.generation_model }}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div v-if=\"post.ai_content?.user_prompt\" class=\"ai-preview-prompt\">\r\n                <strong>Prompt:</strong> {{ truncateText(post.ai_content.user_prompt, 150) }}\r\n              </div>\r\n              <!-- Show partial response if available during generation -->\r\n              <div v-if=\"post.ai_content?.html_content\" class=\"ai-preview-response\">\r\n                <strong>Response:</strong>\r\n              </div>\r\n              <div v-if=\"post.ai_content?.html_content\" class=\"ai-preview-text ai-generating\" v-html=\"getPreviewHtml(post.ai_content.html_content)\"></div>\r\n              \r\n              <!-- Button to open modal even during generation -->\r\n              <button v-if=\"post.ai_content?.html_content\" @click=\"openAIModal(post)\" class=\"btn-open-ai\">\r\n                <span class=\"icon\">üëÅÔ∏è</span>\r\n                <span>View Full Response</span>\r\n              </button>\r\n            </div>\r\n            <div v-if=\"post.media_attachments && post.media_attachments.length > 0\" class=\"post-media\">\r\n              <img v-for=\"media in post.media_attachments\" :key=\"media.attachment_id\" :src=\"media.file_url\" :alt=\"media.file_name\" />\r\n            </div>\r\n            <div class=\"post-actions\">\r\n              <button class=\"action-btn\">\r\n                <span class=\"icon\">üëç</span>\r\n                <span>{{ post.reaction_count || 0 }}</span>\r\n              </button>\r\n              <button class=\"action-btn\">\r\n                <span class=\"icon\">üí¨</span>\r\n                <span>{{ post.comment_count || 0 }}</span>\r\n              </button>\r\n              <button class=\"action-btn\">\r\n                <span class=\"icon\">üëÅ</span>\r\n                <span>{{ post.view_count || 0 }}</span>\r\n              </button>\r\n              <button class=\"action-btn\">\r\n                <span class=\"icon\">üìñ</span>\r\n                <span>{{ post.open_count || 0 }}</span>\r\n              </button>\r\n              <span class=\"post-time-footer\">{{ formatDate(post.post_type === 'ai_app' ? post.updated_at : post.created_at) }}</span>\r\n            </div>\r\n            \r\n            <!-- Comment Section for Regular Posts -->\r\n            <div v-if=\"post.post_type !== 'ai_app'\" class=\"post-comments\">\r\n              <CommentSection \r\n                :post-id=\"post.post_id\" \r\n                :max-depth=\"3\"\r\n                @comment-created=\"handleCommentCreated\"\r\n                @comment-deleted=\"handleCommentDeleted\"\r\n                @comment-updated=\"handleCommentUpdated\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Load More -->\r\n        <div v-if=\"hasMorePosts && !loadingPosts\" class=\"load-more\">\r\n          <button @click=\"loadMorePosts\" class=\"btn-secondary\">Load More</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- AI Content Modal -->\r\n  <Teleport to=\"body\">\r\n    <div v-if=\"showAIModal\" class=\"modal-overlay\" @click.self=\"closeAIModal\">\r\n      <div class=\"modal-content ai-modal\">\r\n        <div class=\"modal-header\">\r\n          <h2>ü§ñ AI Response</h2>\r\n          <button @click=\"closeAIModal\" class=\"btn-close\">√ó</button>\r\n        </div>\r\n        \r\n        <div v-if=\"selectedAIPost\" class=\"modal-body\">\r\n          <div class=\"ai-modal-section\">\r\n            <h3>üìù Prompt</h3>\r\n            <div class=\"ai-prompt-full\">\r\n              {{ selectedAIPost.ai_content?.user_prompt || 'No prompt available' }}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"ai-modal-section\" v-if=\"selectedAIPost.ai_content?.html_content || selectedAIPost.ai_status === 'processing'\">\r\n            <h3>üß† Response</h3>\r\n            <div v-if=\"selectedAIPost.ai_content?.html_content\" class=\"ai-response-content\" :class=\"{ 'ai-generating': selectedAIPost.ai_status === 'processing' }\" v-html=\"renderedAIContent\"></div>\r\n            <div v-else-if=\"selectedAIPost.ai_status === 'processing'\" class=\"ai-response-content ai-generating\">\r\n              <p style=\"color: var(--color-text-secondary); font-style: italic;\">Waiting for generation to begin...</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"ai-modal-section ai-stats\" v-if=\"selectedAIPost.ai_content\">\r\n            <h3>üìä Generation Stats</h3>\r\n            \r\n            <!-- Progress bar for generating posts -->\r\n            <div v-if=\"selectedAIPost.ai_status === 'processing'\" class=\"generation-progress-bar\">\r\n              <div class=\"progress-bar-container\">\r\n                <div class=\"progress-bar-fill\" :style=\"{ width: (selectedAIPost.ai_content.progress_percentage || 0) + '%' }\"></div>\r\n              </div>\r\n              <div class=\"progress-text\">{{ (selectedAIPost.ai_content.progress_percentage || 0) }}%</div>\r\n            </div>\r\n            \r\n            <div class=\"stats-grid\">\r\n              <div class=\"stat-item\">\r\n                <span class=\"stat-label\">Model:</span>\r\n                <span class=\"stat-value\">{{ selectedAIPost.ai_content.generation_model || selectedAIPost.ai_model || 'Unknown' }}</span>\r\n              </div>\r\n              \r\n              <!-- Real-time stats during generation -->\r\n              <template v-if=\"selectedAIPost.ai_status === 'processing'\">\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.elapsed_time\">\r\n                  <span class=\"stat-label\">Elapsed:</span>\r\n                  <span class=\"stat-value\">{{ (selectedAIPost.ai_content.elapsed_time / 1000).toFixed(1) }}s</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.estimated_remaining\">\r\n                  <span class=\"stat-label\">Remaining:</span>\r\n                  <span class=\"stat-value\">{{ (selectedAIPost.ai_content.estimated_remaining / 1000).toFixed(1) }}s</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.current_tokens\">\r\n                  <span class=\"stat-label\">Current Tokens:</span>\r\n                  <span class=\"stat-value\">{{ selectedAIPost.ai_content.current_tokens.toLocaleString() }}</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.tokens_per_second\">\r\n                  <span class=\"stat-label\">Speed:</span>\r\n                  <span class=\"stat-value\">{{ selectedAIPost.ai_content.tokens_per_second.toFixed(2) }} tok/s</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.content_length\">\r\n                  <span class=\"stat-label\">Generated:</span>\r\n                  <span class=\"stat-value\">{{ selectedAIPost.ai_content.content_length.toLocaleString() }} chars</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.chars_per_second\">\r\n                  <span class=\"stat-label\">Char Speed:</span>\r\n                  <span class=\"stat-value\">{{ selectedAIPost.ai_content.chars_per_second.toFixed(2) }} char/s</span>\r\n                </div>\r\n              </template>\r\n              \r\n              <!-- Final stats after completion -->\r\n              <template v-else>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.generation_time\">\r\n                  <span class=\"stat-label\">Time:</span>\r\n                  <span class=\"stat-value\">{{ (selectedAIPost.ai_content.generation_time / 1000).toFixed(2) }}s</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.bricks_cost\">\r\n                  <span class=\"stat-label\">Bricks Cost:</span>\r\n                  <span class=\"stat-value bricks-value\">{{ selectedAIPost.ai_content.bricks_cost }} üß±</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.input_tokens\">\r\n                  <span class=\"stat-label\">Input Tokens:</span>\r\n                  <span class=\"stat-value\">{{ selectedAIPost.ai_content.input_tokens.toLocaleString() }}</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.output_tokens\">\r\n                  <span class=\"stat-label\">Output Tokens:</span>\r\n                  <span class=\"stat-value\">{{ selectedAIPost.ai_content.output_tokens.toLocaleString() }}</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"selectedAIPost.ai_content.total_tokens\">\r\n                  <span class=\"stat-label\">Total Tokens:</span>\r\n                  <span class=\"stat-value\">{{ selectedAIPost.ai_content.total_tokens.toLocaleString() }}</span>\r\n                </div>\r\n                <div class=\"stat-item\" v-if=\"averageTokensPerSecond > 0\">\r\n                  <span class=\"stat-label\">Avg Speed:</span>\r\n                  <span class=\"stat-value\">{{ averageTokensPerSecond.toFixed(2) }} tok/s</span>\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Post Counters -->\r\n          <div class=\"ai-modal-section\" v-if=\"selectedAIPost\">\r\n            <h3>üìä Post Metrics</h3>\r\n            <div class=\"post-counters\">\r\n              <div class=\"counter-item\">\r\n                <button class=\"counter-button\" @click=\"toggleLike(selectedAIPost)\">\r\n                  <span class=\"counter-icon\">{{ selectedAIPost.user_liked ? '‚ù§Ô∏è' : 'ü§ç' }}</span>\r\n                  <span class=\"counter-label\">{{ selectedAIPost.user_liked ? 'Liked' : 'Like' }}</span>\r\n                  <span class=\"counter-value\">{{ selectedAIPost.reaction_count || 0 }}</span>\r\n                </button>\r\n              </div>\r\n              <div class=\"counter-item\">\r\n                <span class=\"counter-icon\">üí¨</span>\r\n                <span class=\"counter-label\">Comments</span>\r\n                <span class=\"counter-value\">{{ selectedAIPost.comment_count || 0 }}</span>\r\n              </div>\r\n              <div class=\"counter-item\">\r\n                <span class=\"counter-icon\">üëÅ</span>\r\n                <span class=\"counter-label\">Views</span>\r\n                <span class=\"counter-value\">{{ selectedAIPost.view_count || 0 }}</span>\r\n              </div>\r\n              <div class=\"counter-item\">\r\n                <span class=\"counter-icon\">üìñ</span>\r\n                <span class=\"counter-label\">Opens</span>\r\n                <span class=\"counter-value\">{{ selectedAIPost.open_count || 0 }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Comment Section -->\r\n          <div class=\"ai-modal-section\" v-if=\"selectedAIPost\">\r\n            <h3>üí¨ Comments</h3>\r\n            <CommentSection \r\n              :post-id=\"selectedAIPost.post_id\" \r\n              :max-depth=\"3\"\r\n              @comment-created=\"handleCommentCreated\"\r\n              @comment-deleted=\"handleCommentDeleted\"\r\n              @comment-updated=\"handleCommentUpdated\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n          <div class=\"action-buttons-group\">\r\n            <button @click=\"shareAIResponse\" class=\"btn-share\">\r\n              <span class=\"icon\">üîó</span>\r\n              <span>Share Link</span>\r\n            </button>\r\n            <button @click=\"copyToClipboard(selectedAIPost.ai_content.html_content, 'Response')\" class=\"btn-copy\">\r\n              <span class=\"icon\">üìã</span>\r\n              <span>Copy</span>\r\n            </button>\r\n          </div>\r\n          <button @click=\"closeAIModal\" class=\"btn-secondary\">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Teleport>\r\n\r\n  <!-- Toast Notification -->\r\n  <Teleport to=\"body\">\r\n    <div v-if=\"showToast\" class=\"toast-notification\">\r\n      {{ toastMessage }}\r\n    </div>\r\n  </Teleport>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport apiClient from '@/services/api/client'\r\nimport postsAPI from '@/services/api/posts'\r\nimport AIGenerationProgress from '@/components/ai/AIGenerationProgress.vue'\r\nimport CommentSection from '@/components/social/CommentSection.vue'\r\nimport { marked } from 'marked'\r\n\r\n// Configure marked options\r\nmarked.setOptions({\r\n  breaks: true, // Convert line breaks to <br>\r\n  gfm: true, // GitHub Flavored Markdown\r\n})\r\n\r\nconst props = defineProps<{ wallId?: string }>()\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst authStore = useAuthStore()\r\n\r\nconst loading = ref(true)\r\nconst loadingPosts = ref(false)\r\nconst isLoadingPostsRequest = ref(false) // Prevents multiple simultaneous requests\r\nconst error = ref<string | null>(null)\r\nconst wall = ref<any>(null)\r\nconst posts = ref<any[]>([])\r\nconst page = ref(1)\r\nconst limit = 20\r\nconst hasMorePosts = ref(true)\r\nlet pollInterval: any = null\r\nlet contentEventSources: Map<number, EventSource> = new Map() // Track SSE connections per job\r\nlet progressEventSources: Map<number, EventSource> = new Map() // Track progress SSE connections\r\n\r\n// Add this ref to track viewed posts\r\nconst viewedPosts = new Set<number>()\r\n// Add this ref to track posts that have been batch processed\r\nconst batchProcessedPosts = new Set<number>()\r\n\r\nconst isOwnWall = computed(() => {\r\n  return wall.value && authStore.user && wall.value.user_id === authStore.user.id\r\n})\r\n\r\nconst bannerStyle = computed(() => {\r\n  if (wall.value?.theme) {\r\n    return { backgroundColor: wall.value.theme }\r\n  }\r\n  return { background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }\r\n})\r\n\r\n// Filter out failed AI posts\r\nconst visiblePosts = computed(() => {\r\n  return posts.value.filter((post: any) => {\r\n    // Hide failed AI posts\r\n    if (post.post_type === 'ai_app' && post.ai_status === 'failed') {\r\n      return false\r\n    }\r\n    return true\r\n  })\r\n})\r\n\r\n// Add this method to increment view count for a post\r\nconst incrementPostViewCount = async (postId: number) => {\r\n  // Only increment view count once per post per session\r\n  if (viewedPosts.has(postId)) {\r\n    return\r\n  }\r\n  \r\n  try {\r\n    await postsAPI.incrementViewCount(postId)\r\n    viewedPosts.add(postId)\r\n    console.log(`View count incremented for post ${postId}`)\r\n  } catch (error: any) {\r\n    console.error(`Failed to increment view count for post ${postId}:`, error)\r\n  }\r\n}\r\n\r\n// Add this method to batch increment view counts\r\nconst batchIncrementViewCounts = async () => {\r\n  // Get all post IDs that haven't been batch processed yet\r\n  const postIdsToProcess: number[] = []\r\n  posts.value.forEach((post: any) => {\r\n    if (!batchProcessedPosts.has(post.post_id) && !viewedPosts.has(post.post_id)) {\r\n      postIdsToProcess.push(post.post_id)\r\n      batchProcessedPosts.add(post.post_id)\r\n    }\r\n  })\r\n  \r\n  // Only process if we have posts to process\r\n  if (postIdsToProcess.length > 0) {\r\n    try {\r\n      await postsAPI.batchIncrementViewCounts(postIdsToProcess)\r\n      postIdsToProcess.forEach(id => viewedPosts.add(id))\r\n      console.log(`Batch view counts incremented for ${postIdsToProcess.length} posts`)\r\n    } catch (error: any) {\r\n      console.error('Failed to batch increment view counts:', error)\r\n      // If batch fails, fall back to individual increments\r\n      postIdsToProcess.forEach(id => {\r\n        batchProcessedPosts.delete(id) // Remove from batch processed so individual increment can try\r\n        incrementPostViewCount(id)\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// Add this method to increment open count for a post\r\nconst incrementPostOpenCount = async (postId: number) => {\r\n  try {\r\n    await postsAPI.incrementOpenCount(postId)\r\n    console.log(`Open count incremented for post ${postId}`)\r\n  } catch (error: any) {\r\n    console.error(`Failed to increment open count for post ${postId}:`, error)\r\n  }\r\n}\r\n\r\nconst formatDate = (dateString: string) => {\r\n  const date = new Date(dateString)\r\n  const now = new Date()\r\n  const diffMs = now.getTime() - date.getTime()\r\n  const diffMins = Math.floor(diffMs / 60000)\r\n  const diffHours = Math.floor(diffMs / 3600000)\r\n  const diffDays = Math.floor(diffMs / 86400000)\r\n\r\n  if (diffMins < 1) return 'just now'\r\n  if (diffMins < 60) return `${diffMins}m ago`\r\n  if (diffHours < 24) return `${diffHours}h ago`\r\n  if (diffDays < 7) return `${diffDays}d ago`\r\n  return date.toLocaleDateString()\r\n}\r\n\r\nconst loadWall = async () => {\r\n  try {\r\n    loading.value = true\r\n    error.value = null\r\n\r\n    let wallIdToFetch = props.wallId || route.params.wallId\r\n\r\n    // Check if we have a valid wallIdToFetch\r\n    if (!wallIdToFetch) {\r\n      throw new Error('No wall identifier provided')\r\n    }\r\n\r\n    let response: any;\r\n    \r\n    // Handle special case: /wall/me\r\n    if (wallIdToFetch === 'me') {\r\n      // Use the dedicated endpoint for current user's wall\r\n      response = await apiClient.get('/walls/me')\r\n    } else {\r\n      // Fetch wall data by ID or slug\r\n      response = await apiClient.get(`/walls/${wallIdToFetch}`)\r\n    }\r\n\r\n    if (response?.success && response?.data?.wall) {\r\n      wall.value = response.data.wall\r\n      await loadPosts()\r\n    } else {\r\n      throw new Error(response?.message || 'Wall not found')\r\n    }\r\n  } catch (err: any) {\r\n    console.error('Error loading wall:', err)\r\n    if (err.response?.status === 404) {\r\n      error.value = 'The requested wall could not be found. It may not exist or you may not have permission to view it.'\r\n    } else {\r\n      error.value = err.response?.data?.message || err.message || 'Failed to load wall'\r\n    }\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst loadPosts = async (isPolling = false) => {\r\n  if (!wall.value) return\r\n  \r\n  // Prevent multiple simultaneous loadPosts requests\r\n  if (isLoadingPostsRequest.value) {\r\n    console.log('[WallView] Skipping loadPosts - request already in progress')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    isLoadingPostsRequest.value = true\r\n    \r\n    // Don't show loading spinner when polling\r\n    if (!isPolling) {\r\n      loadingPosts.value = true\r\n    }\r\n    \r\n    const offset = (page.value - 1) * limit\r\n    const response = await apiClient.get(`/walls/${wall.value.wall_id}/posts?limit=${limit}&offset=${offset}`)\r\n    \r\n    if (response?.success && response?.data?.posts) {\r\n      const newPosts = response.data.posts\r\n      \r\n      if (page.value === 1) {\r\n        if (isPolling) {\r\n          // Update existing posts instead of replacing the entire array\r\n          updatePostsData(newPosts)\r\n        } else {\r\n          posts.value = newPosts\r\n          // Use batch processing for view counts\r\n          batchIncrementViewCounts()\r\n        }\r\n      } else {\r\n        posts.value = [...posts.value, ...newPosts]\r\n        // Use batch processing for view counts on newly loaded posts\r\n        batchIncrementViewCounts()\r\n      }\r\n      \r\n      hasMorePosts.value = newPosts.length === limit\r\n      \r\n      // Start polling if there are pending AI posts\r\n      checkForPendingAIPosts()\r\n    }\r\n  } catch (err: any) {\r\n    console.error('Error loading posts:', err)\r\n  } finally {\r\n    isLoadingPostsRequest.value = false\r\n    if (!isPolling) {\r\n      loadingPosts.value = false\r\n    }\r\n  }\r\n}\r\n\r\nconst updatePostsData = (newPosts: any[]) => {\r\n  // Create a map of new posts by post_id for quick lookup\r\n  const newPostsMap = new Map(newPosts.map((post: any) => [post.post_id, post]))\r\n  \r\n  // Update existing posts with new data WITHOUT causing re-render\r\n  posts.value.forEach((post: any, index: number) => {\r\n    const updatedPost = newPostsMap.get(post.post_id)\r\n    if (updatedPost) {\r\n      // Update ALL fields, not just status\r\n      // Use Object.assign to update in-place and avoid re-render\r\n      Object.assign(posts.value[index], updatedPost)\r\n      newPostsMap.delete(post.post_id)\r\n    }\r\n  })\r\n  \r\n  // Add any new posts that weren't in the existing list\r\n  if (newPostsMap.size > 0) {\r\n    posts.value = [...Array.from(newPostsMap.values()), ...posts.value]\r\n  }\r\n}\r\n\r\nconst checkForPendingAIPosts = () => {\r\n  const pendingPosts = posts.value.filter(\r\n    (post: any) => post.post_type === 'ai_app' && \r\n           (post.ai_status === 'queued' || post.ai_status === 'processing')\r\n  )\r\n  \r\n  console.log('[WallView] Checking pending AI posts:', pendingPosts.length)\r\n  pendingPosts.forEach((post: any) => {\r\n    console.log('[WallView] Pending post:', {\r\n      post_id: post.post_id,\r\n      ai_status: post.ai_status,\r\n      ai_job_id: post.ai_job_id,\r\n      has_content: !!post.ai_content,\r\n      html_content_length: post.ai_content?.html_content?.length || 0\r\n    })\r\n  })\r\n  \r\n  // DISABLE POLLING - SSE handles all real-time updates\r\n  // Only start content streaming for processing posts\r\n  if (pendingPosts.length > 0) {\r\n    pendingPosts.forEach((post: any) => {\r\n      if (post.ai_status === 'processing' && post.ai_job_id) {\r\n        startContentStream(post)\r\n      }\r\n    })\r\n  } else {\r\n    stopAllContentStreams()\r\n  }\r\n}\r\n\r\nconst startPolling = () => {\r\n  if (pollInterval) return\r\n  \r\n  // Poll every 30 seconds - SSE handles real-time updates\r\n  pollInterval = setInterval(async () => {\r\n    console.log('[WallView] Polling for post updates...')\r\n    await loadPosts(true) // Pass true to indicate polling\r\n  }, 30000) // Poll every 30 seconds\r\n}\r\n\r\nconst stopPolling = () => {\r\n  if (pollInterval) {\r\n    clearInterval(pollInterval)\r\n    pollInterval = null\r\n  }\r\n}\r\n\r\nconst loadMorePosts = () => {\r\n  page.value++\r\n  loadPosts()\r\n}\r\n\r\nconst createPost = () => {\r\n  // Navigate to post creation (to be implemented)\r\n  console.log('Create post functionality coming soon')\r\n}\r\n\r\n// Handle AI generation completion\r\nconst handleGenerationComplete = async (post: any) => {\r\n  console.log('Generation completed for post:', post.post_id)\r\n  // Stop streaming for this job\r\n  stopContentStream(post.ai_job_id)\r\n  // SSE 'complete' event already updated the post data - no need to reload\r\n}\r\n\r\n// Handle AI generation error\r\nconst handleGenerationError = (post: any, errorMsg: string) => {\r\n  console.error('Generation failed for post:', post.post_id, errorMsg)\r\n  // Stop streaming for this job\r\n  stopContentStream(post.ai_job_id)\r\n  // Mark post as failed in UI\r\n  const postIndex = posts.value.findIndex(p => p.post_id === post.post_id)\r\n  if (postIndex !== -1) {\r\n    posts.value[postIndex].ai_status = 'failed'\r\n  }\r\n}\r\n\r\n// Start streaming content for a generating post\r\nconst startContentStream = (post: any) => {\r\n  if (!post.ai_job_id) return\r\n  \r\n  // Check if already streaming for this job\r\n  if (contentEventSources.has(post.ai_job_id)) {\r\n    console.log('[ContentStream] Already streaming for job:', post.ai_job_id)\r\n    return\r\n  }\r\n  \r\n  // Use relative URL for production, absolute URL for development\r\n  const apiUrl = import.meta.env.VITE_API_URL || ''\r\n  const streamUrl = `${apiUrl}/api/v1/ai/generation/${post.ai_job_id}/content`\r\n  \r\n  console.log('[ContentStream] Starting NEW SSE for job:', post.ai_job_id, 'URL:', streamUrl)\r\n  \r\n  const eventSource = new EventSource(streamUrl)\r\n  contentEventSources.set(post.ai_job_id, eventSource)\r\n  \r\n  eventSource.addEventListener('content', (event) => {\r\n    const data = JSON.parse(event.data)\r\n    console.log('[ContentStream] Received content chunk:', {\r\n      jobId: post.ai_job_id,\r\n      contentLength: data.content?.length || 0,\r\n      model: data.model,\r\n      modalOpen: showAIModal.value,\r\n      isSelectedPost: selectedAIPost.value?.post_id === post.post_id\r\n    })\r\n    \r\n    // Update post in list\r\n    const postIndex = posts.value.findIndex(p => p.post_id === post.post_id)\r\n    if (postIndex !== -1) {\r\n      // Initialize ai_content if it doesn't exist\r\n      if (!posts.value[postIndex].ai_content) {\r\n        posts.value[postIndex].ai_content = {}\r\n      }\r\n      \r\n      posts.value[postIndex] = {\r\n        ...posts.value[postIndex],\r\n        ai_content: {\r\n          ...posts.value[postIndex].ai_content,\r\n          html_content: data.content || '',\r\n          generation_model: data.model || posts.value[postIndex].ai_content?.generation_model\r\n        }\r\n      }\r\n      console.log('[ContentStream] Updated post in list, content length:', data.content?.length || 0)\r\n    }\r\n    \r\n    // Update modal if open for this post\r\n    if (selectedAIPost.value?.post_id === post.post_id) {\r\n      console.log('[ContentStream] Updating modal content')\r\n      // Force reactivity by creating new object\r\n      selectedAIPost.value = {\r\n        ...selectedAIPost.value,\r\n        ai_content: {\r\n          ...selectedAIPost.value.ai_content,\r\n          html_content: data.content || ''\r\n        }\r\n      }\r\n      console.log('[ContentStream] Modal updated, new content length:', selectedAIPost.value.ai_content.html_content?.length || 0)\r\n    }\r\n  })\r\n  \r\n  eventSource.addEventListener('complete', (event) => {\r\n    console.log('[ContentStream] Generation complete')\r\n    stopContentStream(post.ai_job_id)\r\n    // Update post status to completed\r\n    const postIndex = posts.value.findIndex(p => p.post_id === post.post_id)\r\n    if (postIndex !== -1) {\r\n      posts.value[postIndex].ai_status = 'completed'\r\n    }\r\n  })\r\n  \r\n  eventSource.addEventListener('error', (event) => {\r\n    console.error('[ContentStream] SSE error for job:', post.ai_job_id)\r\n    stopContentStream(post.ai_job_id)\r\n  })\r\n  \r\n  eventSource.onerror = (error) => {\r\n    console.error('[ContentStream] Connection error:', error)\r\n    // Close the connection on error to prevent hanging\r\n    stopContentStream(post.ai_job_id)\r\n  }\r\n}\r\n\r\n// Stop streaming content for a job\r\nconst stopContentStream = (jobId: number) => {\r\n  if (!jobId) return\r\n  \r\n  const eventSource = contentEventSources.get(jobId)\r\n  if (eventSource) {\r\n    eventSource.close()\r\n    contentEventSources.delete(jobId)\r\n    console.log('[ContentStream] Stopped SSE for job:', jobId)\r\n  }\r\n}\r\n\r\n// Stop all content streams\r\nconst stopAllContentStreams = () => {\r\n  contentEventSources.forEach((eventSource, jobId) => {\r\n    eventSource.close()\r\n    console.log('[ContentStream] Closed SSE for job:', jobId)\r\n  })\r\n  contentEventSources.clear()\r\n}\r\n\r\n// Start streaming progress for a generating post\r\nconst startProgressStream = (post: any) => {\r\n  if (!post.ai_job_id) return\r\n  \r\n  // Check if already streaming for this job\r\n  if (progressEventSources.has(post.ai_job_id)) {\r\n    console.log('[ProgressStream] Already streaming for job:', post.ai_job_id)\r\n    return\r\n  }\r\n  \r\n  // Use relative URL for production, absolute URL for development\r\n  const apiUrl = import.meta.env.VITE_API_URL || ''\r\n  const streamUrl = `${apiUrl}/api/v1/ai/generation/${post.ai_job_id}/progress`\r\n  \r\n  console.log('[ProgressStream] Starting NEW SSE for job:', post.ai_job_id, 'URL:', streamUrl)\r\n  \r\n  const eventSource = new EventSource(streamUrl)\r\n  progressEventSources.set(post.ai_job_id, eventSource)\r\n  \r\n  eventSource.addEventListener('progress', (event) => {\r\n    const data = JSON.parse(event.data)\r\n    console.log('[ProgressStream] Received progress update:', data)\r\n    \r\n    // Update selectedAIPost if this is the post in the modal\r\n    if (selectedAIPost.value?.post_id === post.post_id) {\r\n      selectedAIPost.value = {\r\n        ...selectedAIPost.value,\r\n        ai_content: {\r\n          ...selectedAIPost.value.ai_content,\r\n          // Real-time stats\r\n          current_tokens: data.current_tokens || 0,\r\n          tokens_per_second: data.tokens_per_second || 0,\r\n          elapsed_time: data.elapsed_time || 0,\r\n          estimated_remaining: data.estimated_remaining || 0,\r\n          progress_percentage: data.progress || 0,\r\n          content_length: data.content_length || 0,\r\n          chars_per_second: data.chars_per_second || 0,\r\n          // Token stats\r\n          input_tokens: data.prompt_tokens || 0,\r\n          output_tokens: data.completion_tokens || 0,\r\n          total_tokens: data.total_tokens || 0\r\n        }\r\n      }\r\n    }\r\n  })\r\n  \r\n  eventSource.addEventListener('complete', (event) => {\r\n    console.log('[ProgressStream] Generation complete, reloading data')\r\n    stopProgressStream(post.ai_job_id)\r\n    \r\n    // Reload post data to get final stats\r\n    if (selectedAIPost.value?.post_id === post.post_id) {\r\n      apiClient.get(`/ai/apps/${post.ai_app_id}`).then((response: any) => {\r\n        if (response?.success && response?.data?.app) {\r\n          selectedAIPost.value = {\r\n            ...selectedAIPost.value,\r\n            ai_status: 'completed',\r\n            ai_content: {\r\n              ...response.data.app,\r\n              bricks_cost: response.data.app.bricks_cost || 0\r\n            }\r\n          }\r\n        }\r\n      }).catch(err => {\r\n        console.error('Failed to reload final data:', err)\r\n      })\r\n    }\r\n    \r\n    // Reload posts list\r\n    loadPosts()\r\n  })\r\n  \r\n  eventSource.addEventListener('error', (event) => {\r\n    console.error('[ProgressStream] SSE error for job:', post.ai_job_id)\r\n    stopProgressStream(post.ai_job_id)\r\n  })\r\n  \r\n  eventSource.onerror = (error) => {\r\n    console.error('[ProgressStream] Connection error:', error)\r\n    // Close the connection on error to prevent hanging\r\n    stopProgressStream(post.ai_job_id)\r\n  }\r\n}\r\n\r\n// Stop streaming progress for a job\r\nconst stopProgressStream = (jobId: number) => {\r\n  if (!jobId) return\r\n  \r\n  const eventSource = progressEventSources.get(jobId)\r\n  if (eventSource) {\r\n    eventSource.close()\r\n    progressEventSources.delete(jobId)\r\n    console.log('[ProgressStream] Stopped SSE for job:', jobId)\r\n  }\r\n}\r\n\r\n// Stop all progress streams\r\nconst stopAllProgressStreams = () => {\r\n  progressEventSources.forEach((eventSource, jobId) => {\r\n    eventSource.close()\r\n    console.log('[ProgressStream] Closed SSE for job:', jobId)\r\n  })\r\n  progressEventSources.clear()\r\n}\r\n\r\nconst getAIProgress = (status: string) => {\r\n  const progressMap: Record<string, number> = {\r\n    'queued': 10,\r\n    'processing': 60,\r\n    'completed': 100,\r\n    'failed': 0\r\n  }\r\n  return progressMap[status] || 0\r\n}\r\n\r\nconst getAIStatusText = (status: string) => {\r\n  const statusTextMap: Record<string, string> = {\r\n    'queued': 'Waiting in queue...',\r\n    'processing': 'Generating your application...',\r\n    'completed': 'Generation complete!',\r\n    'failed': 'Generation failed'\r\n  }\r\n  return statusTextMap[status] || 'Processing...'\r\n}\r\n\r\nconst truncateText = (text: string, maxLength: number) => {\r\n  if (!text) return ''\r\n  if (text.length <= maxLength) return text\r\n  return text.substring(0, maxLength) + '...'\r\n}\r\n\r\n// Function to render preview with markdown formatting\r\nconst getPreviewHtml = (content: string) => {\r\n  if (!content) return ''\r\n  \r\n  // Strip HTML tags first, then truncate, then parse markdown\r\n  const plainText = content.replace(/<[^>]*>/g, '')\r\n  const truncated = truncateText(plainText, 200)\r\n  \r\n  // Parse markdown to HTML for preview\r\n  const html = marked.parse(truncated, { async: false })\r\n  return html\r\n}\r\n\r\nconst selectedAIPost = ref<any>(null)\r\nconst showAIModal = ref(false)\r\nconst toastMessage = ref('')\r\nconst showToast = ref(false)\r\n\r\nconst displayToast = (message: string) => {\r\n  toastMessage.value = message\r\n  showToast.value = true\r\n  setTimeout(() => {\r\n    showToast.value = false\r\n  }, 2000) // Hide after 2 seconds\r\n}\r\n\r\n// Computed property for rendered markdown content\r\nconst renderedAIContent = computed(() => {\r\n  if (!selectedAIPost.value?.ai_content?.html_content) return ''\r\n  \r\n  // Parse markdown to HTML\r\n  let rawHtml = String(marked.parse(selectedAIPost.value.ai_content.html_content))\r\n  \r\n  // Replace ALL <hr> tags (with or without attributes) with clean version with class\r\n  rawHtml = rawHtml.replace(/<hr\\s*\\/?>/gi, '<hr class=\"content-divider\">')\r\n  rawHtml = rawHtml.replace(/<hr\\s+[^>]*>/gi, '<hr class=\"content-divider\">')\r\n  \r\n  return rawHtml\r\n})\r\n\r\n// Computed property for average tokens per second\r\nconst averageTokensPerSecond = computed(() => {\r\n  if (!selectedAIPost.value?.ai_content) return 0\r\n  \r\n  const outputTokens = selectedAIPost.value.ai_content.output_tokens || 0\r\n  const generationTime = selectedAIPost.value.ai_content.generation_time || 0\r\n  \r\n  if (outputTokens > 0 && generationTime > 0) {\r\n    // generation_time is in milliseconds, convert to seconds\r\n    return outputTokens / (generationTime / 1000)\r\n  }\r\n  \r\n  return 0\r\n})\r\n\r\n// Helper function to get average speed for any post\r\nconst getAverageSpeed = (post: any) => {\r\n  if (!post?.ai_content) return 0\r\n  \r\n  // Try using stored tokens_per_second from database first\r\n  if (post.ai_content.tokens_per_second && post.ai_content.tokens_per_second > 0) {\r\n    return post.ai_content.tokens_per_second\r\n  }\r\n  \r\n  // Otherwise calculate from output_tokens and generation_time\r\n  const outputTokens = post.ai_content.output_tokens || 0\r\n  const generationTime = post.ai_content.generation_time || 0\r\n  \r\n  if (outputTokens > 0 && generationTime > 0) {\r\n    // generation_time is in milliseconds, convert to seconds\r\n    return outputTokens / (generationTime / 1000)\r\n  }\r\n  \r\n  return 0\r\n}\r\n\r\n// Function to render bio with markdown formatting and auto-linked URLs\r\nconst renderBio = (bio: string) => {\r\n  if (!bio) return ''\r\n  \r\n  // Auto-link URLs in the bio text\r\n  const urlRegex = /(https?:\\/\\/[^\\s]+)/g\r\n  const linkedBio = bio.replace(urlRegex, '<a href=\"$1\" target=\"_blank\" rel=\"noopener noreferrer\">$1</a>')\r\n  \r\n  // Parse markdown to HTML\r\n  const html = marked.parse(linkedBio, { async: false })\r\n  return html\r\n}\r\n\r\nconst openAIModal = async (post: any) => {\r\n  try {\r\n    // Increment open count when post is fully opened\r\n    await incrementPostOpenCount(post.post_id)\r\n    // For generating posts, use data from the post itself\r\n    if (post.ai_status === 'queued' || post.ai_status === 'processing') {\r\n      console.log('Opening modal for generating post, using post data:', {\r\n        post_id: post.post_id,\r\n        ai_job_id: post.ai_job_id,\r\n        has_content: !!post.ai_content?.html_content,\r\n        content_length: post.ai_content?.html_content?.length || 0\r\n      })\r\n      \r\n      selectedAIPost.value = {\r\n        ...post,\r\n        ai_content: {\r\n          user_prompt: post.ai_content?.user_prompt || null,\r\n          html_content: post.ai_content?.html_content || '', // Initialize as empty string, not null\r\n          css_content: post.ai_content?.css_content || null,\r\n          js_content: post.ai_content?.js_content || null,\r\n          generation_model: post.ai_content?.generation_model || post.ai_model || null,\r\n          generation_time: null,\r\n          input_tokens: 0,\r\n          output_tokens: 0,\r\n          total_tokens: 0,\r\n          bricks_cost: post.ai_content?.bricks_cost || 0,\r\n          // Initialize progress tracking fields\r\n          current_tokens: 0,\r\n          tokens_per_second: 0,\r\n          elapsed_time: 0,\r\n          estimated_remaining: 0,\r\n          progress_percentage: 0,\r\n          content_length: 0,\r\n          chars_per_second: 0\r\n        }\r\n      }\r\n      showAIModal.value = true\r\n      document.body.style.overflow = 'hidden'\r\n      \r\n      // Start streaming content and progress updates\r\n      if (post.ai_status === 'processing' && post.ai_job_id) {\r\n        startContentStream(post)\r\n        startProgressStream(post)\r\n      }\r\n      return\r\n    }\r\n    \r\n    // For completed posts, fetch full data from API\r\n    const response: any = await apiClient.get(`/ai/apps/${post.ai_app_id}`)\r\n    \r\n    // Check if response has the expected structure\r\n    if (response?.success && response?.data?.app) {\r\n      console.log('AI App Data:', response.data.app)\r\n      selectedAIPost.value = {\r\n        ...post,\r\n        ai_content: {\r\n          ...response.data.app,\r\n          bricks_cost: response.data.app.bricks_cost || post.ai_content?.bricks_cost || 0,\r\n          input_tokens: response.data.app.input_tokens || post.ai_content?.input_tokens || 0,\r\n          output_tokens: response.data.app.output_tokens || post.ai_content?.output_tokens || 0,\r\n          total_tokens: response.data.app.total_tokens || post.ai_content?.total_tokens || 0\r\n        }\r\n      }\r\n      showAIModal.value = true\r\n      document.body.style.overflow = 'hidden'\r\n    }\r\n  } catch (err: any) {\r\n    console.error('Error loading AI content:', err)\r\n    // Even if API call fails, try to open modal with post data\r\n    if (post.ai_content) {\r\n      selectedAIPost.value = post\r\n      showAIModal.value = true\r\n      document.body.style.overflow = 'hidden'\r\n    }\r\n  }\r\n}\r\n\r\nconst closeAIModal = () => {\r\n  // Stop streaming if modal was showing a generating post\r\n  if (selectedAIPost.value?.ai_job_id) {\r\n    stopContentStream(selectedAIPost.value.ai_job_id)\r\n    stopProgressStream(selectedAIPost.value.ai_job_id)\r\n  }\r\n  \r\n  showAIModal.value = false\r\n  selectedAIPost.value = null\r\n  // Restore body scroll\r\n  document.body.style.overflow = ''\r\n}\r\n\r\nconst shareAIResponse = () => {\r\n  if (!selectedAIPost.value) return\r\n  \r\n  const wallId = wall.value?.wall_id || route.params.wallId\r\n  const appId = selectedAIPost.value.ai_app_id\r\n  \r\n  // Use port 8080 (production) instead of 3000 (dev)\r\n  const baseUrl = window.location.origin.replace(':3000', ':8080')\r\n  const shareUrl = `${baseUrl}/wall/${wallId}?ai=${appId}`\r\n  \r\n  navigator.clipboard.writeText(shareUrl).then(() => {\r\n    console.log('Share link copied to clipboard:', shareUrl)\r\n    displayToast('‚úì Link copied!')\r\n  }).catch(err => {\r\n    console.error('Failed to copy share link:', err)\r\n    displayToast('‚úó Failed to copy link')\r\n  })\r\n}\r\n\r\nconst copyToClipboard = (text: string, label: string) => {\r\n  navigator.clipboard.writeText(text).then(() => {\r\n    console.log(`${label} copied to clipboard`)\r\n    displayToast(`‚úì ${label} copied!`)\r\n  }).catch(err => {\r\n    console.error('Failed to copy:', err)\r\n    displayToast('‚úó Failed to copy')\r\n  })\r\n}\r\n\r\nconst toggleLike = async (post: any) => {\r\n  try {\r\n    if (post.user_liked) {\r\n      // Remove like\r\n      await apiClient.delete(`/posts/${post.post_id}/reactions`)\r\n      post.user_liked = false\r\n      post.reaction_count = Math.max(0, (post.reaction_count || 0) - 1)\r\n      \r\n      // Update in posts list if it exists there\r\n      const postIndex = posts.value.findIndex((p: any) => p.post_id === post.post_id)\r\n      if (postIndex !== -1) {\r\n        posts.value[postIndex].user_liked = false\r\n        posts.value[postIndex].reaction_count = Math.max(0, (posts.value[postIndex].reaction_count || 0) - 1)\r\n      }\r\n    } else {\r\n      // Add like\r\n      await apiClient.post(`/posts/${post.post_id}/reactions`, { reaction_type: 'like' })\r\n      post.user_liked = true\r\n      post.reaction_count = (post.reaction_count || 0) + 1\r\n      \r\n      // Update in posts list if it exists there\r\n      const postIndex = posts.value.findIndex((p: any) => p.post_id === post.post_id)\r\n      if (postIndex !== -1) {\r\n        posts.value[postIndex].user_liked = true\r\n        posts.value[postIndex].reaction_count = (posts.value[postIndex].reaction_count || 0) + 1\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to toggle like:', error)\r\n    displayToast('‚úó Failed to update like')\r\n  }\r\n}\r\n\r\nconst handleCommentCreated = (comment: any) => {\r\n  // Update comment count in the selected post (AI modal)\r\n  if (selectedAIPost.value) {\r\n    selectedAIPost.value.comment_count = (selectedAIPost.value.comment_count || 0) + 1\r\n    \r\n    // Update comment count in the posts list\r\n    const postIndex = posts.value.findIndex((p: any) => p.post_id === selectedAIPost.value.post_id)\r\n    if (postIndex !== -1) {\r\n      posts.value[postIndex].comment_count = (posts.value[postIndex].comment_count || 0) + 1\r\n    }\r\n  }\r\n  \r\n  // Also update comment count for regular posts\r\n  if (comment && comment.post_id) {\r\n    const postIndex = posts.value.findIndex((p: any) => p.post_id === comment.post_id)\r\n    if (postIndex !== -1) {\r\n      posts.value[postIndex].comment_count = (posts.value[postIndex].comment_count || 0) + 1\r\n    }\r\n  }\r\n  \r\n  displayToast('‚úì Comment added')\r\n}\r\n\r\nconst handleCommentDeleted = (commentId: number) => {\r\n  // Update comment count in the selected post (AI modal)\r\n  if (selectedAIPost.value) {\r\n    selectedAIPost.value.comment_count = Math.max(0, (selectedAIPost.value.comment_count || 0) - 1)\r\n    \r\n    // Update comment count in the posts list\r\n    const postIndex = posts.value.findIndex((p: any) => p.post_id === selectedAIPost.value.post_id)\r\n    if (postIndex !== -1) {\r\n      posts.value[postIndex].comment_count = Math.max(0, (posts.value[postIndex].comment_count || 0) - 1)\r\n    }\r\n  }\r\n  \r\n  // Also update comment count for regular posts\r\n  // Note: We don't have the post_id here, so we can't update the specific post count\r\n  // This is a limitation of the current implementation\r\n  \r\n  displayToast('‚úì Comment deleted')\r\n}\r\n\r\nconst handleCommentUpdated = (comment: any) => {\r\n  displayToast('‚úì Comment updated')\r\n}\r\n\r\nconst downloadAIApp = () => {\r\n  if (!selectedAIPost.value?.ai_content) return\r\n  \r\n  const content = selectedAIPost.value.ai_content\r\n  const scriptOpen = '<script>'\r\n  const scriptClose = '<' + '/script>'\r\n  const bodyClose = '<' + '/body>'\r\n  const htmlClose = '<' + '/html>'\r\n  \r\n  const fullHTML = `<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>AI Generated App</title>\r\n  <style>\r\n${content.css_content || ''}\r\n  </style>\r\n</head>\r\n<body>\r\n${content.html_content || ''}\r\n  ${scriptOpen}\r\n${content.js_content || ''}\r\n  ${scriptClose}\r\n${bodyClose}\r\n${htmlClose}`\r\n  \r\n  const blob = new Blob([fullHTML], { type: 'text/html' })\r\n  const url = URL.createObjectURL(blob)\r\n  const a = document.createElement('a')\r\n  a.href = url\r\n  a.download = `ai-app-${selectedAIPost.value.post_id}.html`\r\n  a.click()\r\n  URL.revokeObjectURL(url)\r\n}\r\n\r\nonMounted(async () => {\r\n  await loadWall()\r\n  \r\n  // Check if there's an AI app ID in the URL query params\r\n  const aiAppId = route.query.ai\r\n  if (aiAppId) {\r\n    // Find the post with this AI app ID and open the modal\r\n    const post = posts.value.find(p => p.ai_app_id === parseInt(String(aiAppId)))\r\n    if (post) {\r\n      await openAIModal(post)\r\n    }\r\n  }\r\n})\r\n\r\n// Watch for route changes to reload wall (e.g., after AI generation redirect)\r\nwatch(() => route.params.wallId, async (newWallId, oldWallId) => {\r\n  if (newWallId !== oldWallId) {\r\n    console.log('[WallView] Route changed, reloading wall:', newWallId)\r\n    await loadWall()\r\n  }\r\n})\r\n\r\n// Watch for route query changes (e.g., ?ai=123)\r\nwatch(() => route.query.ai, async (newAiAppId) => {\r\n  if (newAiAppId && posts.value.length > 0) {\r\n    const post = posts.value.find(p => p.ai_app_id === parseInt(String(newAiAppId)))\r\n    if (post) {\r\n      await openAIModal(post)\r\n    }\r\n  }\r\n})\r\n\r\nonUnmounted(() => {\r\n  stopPolling()\r\n  stopAllContentStreams()\r\n  stopAllProgressStreams()\r\n  // Restore body scroll in case modal was open\r\n  document.body.style.overflow = ''\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.wall-view {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: var(--spacing-4);\r\n  overflow-x: hidden;\r\n}\r\n\r\n.loading-container,\r\n.error-container {\r\n  text-align: center;\r\n  padding: var(--spacing-8);\r\n}\r\n\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin: 0 auto var(--spacing-4);\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-left-color: var(--color-primary);\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.wall-header {\r\n  background: var(--color-bg-elevated);\r\n  border-radius: var(--radius-lg);\r\n  overflow: hidden;\r\n  margin-bottom: var(--spacing-6);\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n.wall-banner {\r\n  height: 200px;\r\n  width: 100%;\r\n}\r\n\r\n.wall-info {\r\n  padding: var(--spacing-6);\r\n  position: relative;\r\n}\r\n\r\n.wall-avatar {\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  border: 4px solid var(--color-bg-elevated);\r\n  margin-top: -60px;\r\n  margin-bottom: var(--spacing-4);\r\n}\r\n\r\n.wall-avatar img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.wall-title {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  margin-bottom: var(--spacing-2);\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.wall-owner {\r\n  color: var(--color-text-secondary);\r\n  margin-bottom: var(--spacing-2);\r\n}\r\n\r\n.wall-description {\r\n  color: var(--color-text-secondary);\r\n  margin-bottom: var(--spacing-4);\r\n  line-height: 1.6;\r\n}\r\n\r\n.wall-description :deep(a) {\r\n  color: var(--color-primary);\r\n  text-decoration: none;\r\n  border-bottom: 1px solid transparent;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.wall-description :deep(a:hover) {\r\n  border-bottom-color: var(--color-primary);\r\n}\r\n\r\n.wall-description :deep(p) {\r\n  margin: 0.25rem 0;\r\n}\r\n\r\n.wall-description :deep(strong) {\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.wall-description :deep(em) {\r\n  font-style: italic;\r\n}\r\n\r\n.wall-stats {\r\n  display: flex;\r\n  gap: var(--spacing-6);\r\n}\r\n\r\n.stat {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: var(--color-primary);\r\n}\r\n\r\n.stat-label {\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n}\r\n\r\n.posts-section {\r\n  margin-top: var(--spacing-6);\r\n}\r\n\r\n.section-title {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  margin-bottom: var(--spacing-4);\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.loading-posts {\r\n  text-align: center;\r\n  padding: var(--spacing-8);\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: var(--spacing-8);\r\n  background: var(--color-bg-elevated);\r\n  border-radius: var(--radius-lg);\r\n}\r\n\r\n.posts-grid {\r\n  display: grid;\r\n  gap: var(--spacing-4);\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.post-card {\r\n  background: var(--color-bg-elevated);\r\n  border-radius: var(--radius-lg);\r\n  padding: var(--spacing-4);\r\n  box-shadow: var(--shadow-sm);\r\n  transition: box-shadow 0.2s;\r\n  overflow: hidden;\r\n  max-width: 100%;\r\n}\r\n\r\n.post-card:hover {\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n.post-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-3);\r\n  margin-bottom: var(--spacing-3);\r\n}\r\n\r\n.post-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.post-meta {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.post-author {\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.post-time {\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n}\r\n\r\n.post-content {\r\n  margin-bottom: var(--spacing-3);\r\n  line-height: 1.6;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.post-media {\r\n  margin-bottom: var(--spacing-3);\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n  gap: var(--spacing-2);\r\n}\r\n\r\n.post-media img {\r\n  width: 100%;\r\n  border-radius: var(--radius-md);\r\n  object-fit: cover;\r\n}\r\n\r\n.post-actions {\r\n  display: flex;\r\n  gap: var(--spacing-4);\r\n  padding-top: var(--spacing-3);\r\n  border-top: 1px solid var(--color-border);\r\n  align-items: center;\r\n}\r\n\r\n.post-time-footer {\r\n  margin-left: auto;\r\n  font-size: 0.8125rem;\r\n  color: var(--color-text-secondary);\r\n  opacity: 0.7;\r\n}\r\n\r\n.action-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  padding: var(--spacing-2) var(--spacing-3);\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: var(--radius-md);\r\n  cursor: pointer;\r\n  color: var(--color-text-secondary);\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.action-btn:hover {\r\n  background-color: var(--color-bg-secondary);\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.load-more {\r\n  text-align: center;\r\n  margin-top: var(--spacing-6);\r\n}\r\n\r\n.btn-primary,\r\n.btn-secondary {\r\n  padding: var(--spacing-3) var(--spacing-6);\r\n  border-radius: var(--radius-md);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-primary {\r\n  background: var(--color-primary);\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background: var(--color-primary-dark);\r\n}\r\n\r\n.btn-secondary {\r\n  background: transparent;\r\n  color: var(--color-primary);\r\n  border: 2px solid var(--color-primary);\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background: var(--color-primary);\r\n  color: white;\r\n}\r\n\r\n/* AI Generation Status Styles */\r\n.post-card.ai-post {\r\n  border: 2px solid var(--color-primary);\r\n  background: linear-gradient(to bottom, var(--color-bg-elevated), var(--color-bg-primary));\r\n}\r\n\r\n.ai-generation-status {\r\n  padding: var(--spacing-4);\r\n  margin-bottom: var(--spacing-4);\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: var(--radius-md);\r\n  color: white;\r\n}\r\n\r\n.status-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  margin-bottom: var(--spacing-3);\r\n}\r\n\r\n.status-icon {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.status-header h3 {\r\n  margin: 0;\r\n  font-size: 1.125rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.progress-bar {\r\n  height: 8px;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-radius: var(--radius-full);\r\n  overflow: hidden;\r\n  margin-bottom: var(--spacing-2);\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: white;\r\n  transition: width 0.5s ease;\r\n  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.status-text {\r\n  margin: 0;\r\n  font-size: 0.875rem;\r\n  opacity: 0.9;\r\n}\r\n\r\n.ai-content-preview {\r\n  margin-top: var(--spacing-4);\r\n  padding: var(--spacing-4);\r\n  background: var(--color-bg-secondary);\r\n  border-radius: var(--radius-md);\r\n  border: 2px solid var(--color-primary);\r\n  overflow: hidden;\r\n}\r\n\r\n/* Same styles for ai-content-info */\r\n.ai-content-info {\r\n  margin-top: var(--spacing-4);\r\n  padding: var(--spacing-4);\r\n  background: var(--color-bg-secondary);\r\n  border-radius: var(--radius-md);\r\n  border: 2px solid var(--color-primary);\r\n  overflow: hidden;\r\n}\r\n\r\n.ai-preview-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  margin-bottom: var(--spacing-3);\r\n}\r\n\r\n.preview-avatar {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid var(--color-primary);\r\n}\r\n\r\n.preview-icon {\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.ai-preview-header h4 {\r\n  margin: 0;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.ai-generation-info {\r\n  display: flex;\r\n  gap: var(--spacing-3);\r\n  margin-bottom: var(--spacing-3);\r\n  padding: var(--spacing-2) 0;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.info-item strong {\r\n  color: var(--color-text-secondary);\r\n  font-weight: 500;\r\n}\r\n\r\n.status-badge {\r\n  color: #10b981;\r\n  font-weight: 600;\r\n  background: rgba(16, 185, 129, 0.1);\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: var(--radius-sm);\r\n}\r\n\r\n.bricks-amount {\r\n  color: #f59e0b;\r\n  font-weight: 600;\r\n  background: rgba(245, 158, 11, 0.1);\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: var(--radius-sm);\r\n}\r\n\r\n.model-name {\r\n  color: #6366f1;\r\n  font-weight: 600;\r\n  background: rgba(99, 102, 241, 0.1);\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: var(--radius-sm);\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.status-badge.processing {\r\n  color: #f59e0b;\r\n  background: rgba(245, 158, 11, 0.1);\r\n}\r\n\r\n/* AI Generation Stats */\r\n.ai-generation-stats {\r\n  display: flex;\r\n  gap: var(--spacing-3);\r\n  margin-bottom: var(--spacing-3);\r\n  padding: var(--spacing-3);\r\n  background: rgba(99, 102, 241, 0.05);\r\n  border-radius: var(--radius-md);\r\n  border: 1px solid rgba(99, 102, 241, 0.1);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.ai-generation-stats .stat-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-1);\r\n  min-width: 120px;\r\n}\r\n\r\n.ai-generation-stats .stat-item strong {\r\n  color: var(--color-text-secondary);\r\n  font-weight: 500;\r\n  font-size: 0.75rem;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n}\r\n\r\n.ai-generation-stats .stat-value {\r\n  color: var(--color-text-primary);\r\n  font-weight: 700;\r\n  font-size: 1rem;\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n.ai-preview-prompt {\r\n  padding: 0;\r\n  background: transparent;\r\n  border-radius: var(--radius-sm);\r\n  margin-bottom: var(--spacing-4);\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n  line-height: 1.5;\r\n}\r\n\r\n.ai-preview-response {\r\n  padding: 0;\r\n  background: transparent;\r\n  margin-bottom: var(--spacing-2);\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n  line-height: 1.5;\r\n}\r\n\r\n.ai-preview-code,\r\n.ai-preview-text {\r\n  margin-bottom: var(--spacing-3);\r\n  padding: 0;\r\n  background: transparent;\r\n  border-radius: var(--radius-sm);\r\n  color: var(--color-text-secondary);\r\n  font-size: 0.875rem;\r\n  line-height: 1.6;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 100%;\r\n  word-wrap: break-word;\r\n  overflow-wrap: break-word;\r\n}\r\n\r\n/* Animating text while generating */\r\n.ai-preview-text.ai-generating {\r\n  position: relative;\r\n}\r\n\r\n.ai-preview-text.ai-generating::after {\r\n  content: '‚ñä';\r\n  display: inline-block;\r\n  animation: blink 1s infinite;\r\n  margin-left: 2px;\r\n  color: var(--color-primary);\r\n}\r\n\r\n@keyframes blink {\r\n  0%, 50% { opacity: 1; }\r\n  51%, 100% { opacity: 0; }\r\n}\r\n\r\n/* Formatting for preview markdown */\r\n.ai-preview-text :deep(p) {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.ai-preview-text :deep(p:first-child) {\r\n  margin-top: 0;\r\n}\r\n\r\n.ai-preview-text :deep(p:last-child) {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ai-preview-text :deep(strong) {\r\n  font-weight: 700;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.ai-preview-text :deep(code) {\r\n  background: rgba(0, 0, 0, 0.1);\r\n  padding: 0.125rem 0.25rem;\r\n  border-radius: 3px;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 0.85em;\r\n  word-break: break-all;\r\n}\r\n\r\n.ai-preview-text :deep(pre) {\r\n  background: #1e1e1e;\r\n  color: #d4d4d4;\r\n  padding: 0.75rem;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n  font-size: 0.8125rem;\r\n  margin: 0.5rem 0 0 0;\r\n  max-width: 100%;\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n  line-height: 1.5;\r\n}\r\n\r\n.btn-open-ai {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: var(--spacing-2);\r\n  padding: var(--spacing-3);\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, #10b981 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: var(--radius-md);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n\r\n.btn-open-ai:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  right: 0 !important;\r\n  bottom: 0 !important;\r\n  background: rgba(0, 0, 0, 0.85) !important;\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  justify-content: center !important;\r\n  z-index: 9999 !important;\r\n  padding: var(--spacing-4) !important;\r\n  overflow-y: auto !important;\r\n  opacity: 1 !important;\r\n  visibility: visible !important;\r\n  pointer-events: auto !important;\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n  background: #ffffff !important;\r\n  border-radius: var(--radius-lg);\r\n  max-width: 900px;\r\n  width: 100%;\r\n  max-height: 90vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;\r\n  z-index: 10000;\r\n  pointer-events: auto !important;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: var(--spacing-5);\r\n  border-bottom: 1px solid var(--color-border);\r\n}\r\n\r\n.modal-header h2 {\r\n  margin: 0;\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.btn-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 2rem;\r\n  color: var(--color-text-secondary);\r\n  cursor: pointer;\r\n  padding: 0;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: var(--radius-sm);\r\n  transition: background 0.2s;\r\n}\r\n\r\n.btn-close:hover {\r\n  background: var(--color-bg-secondary);\r\n}\r\n\r\n.modal-body {\r\n  padding: var(--spacing-5);\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n.ai-modal-section {\r\n  margin-bottom: var(--spacing-6);\r\n}\r\n\r\n.ai-modal-section:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ai-modal-section h3 {\r\n  margin: 0 0 var(--spacing-3) 0;\r\n  font-size: 1.125rem;\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-3);\r\n}\r\n\r\n.section-header h3 {\r\n  margin: 0;\r\n}\r\n\r\n.btn-copy-small {\r\n  padding: var(--spacing-2) var(--spacing-3);\r\n  background: var(--color-primary);\r\n  color: white;\r\n  border: none;\r\n  border-radius: var(--radius-sm);\r\n  font-size: 0.875rem;\r\n  cursor: pointer;\r\n  transition: background 0.2s;\r\n}\r\n\r\n.btn-copy-small:hover {\r\n  background: var(--color-primary-dark);\r\n}\r\n\r\n.ai-prompt-full {\r\n  padding: var(--spacing-4);\r\n  background: var(--color-bg-secondary);\r\n  border-radius: var(--radius-md);\r\n  border-left: 4px solid var(--color-primary);\r\n  color: var(--color-text-primary);\r\n  line-height: 1.6;\r\n  font-size: 0.9375rem;\r\n}\r\n\r\n.code-block {\r\n  background: #1e1e1e;\r\n  color: #d4d4d4;\r\n  padding: var(--spacing-4);\r\n  border-radius: var(--radius-md);\r\n  overflow-x: auto;\r\n  font-family: 'Courier New', Consolas, Monaco, monospace;\r\n  font-size: 0.875rem;\r\n  line-height: 1.5;\r\n  margin: 0;\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.ai-response-content {\r\n  padding: var(--spacing-4);\r\n  background: var(--color-bg-secondary);\r\n  border-radius: var(--radius-md);\r\n  line-height: 1.7;\r\n  color: var(--color-text-primary);\r\n  font-size: 0.9375rem;\r\n  word-wrap: break-word;\r\n  overflow-wrap: break-word;\r\n}\r\n\r\n/* Animating cursor while generating in modal */\r\n.ai-response-content.ai-generating::after {\r\n  content: '‚ñä';\r\n  display: inline-block;\r\n  animation: blink 1s infinite;\r\n  margin-left: 2px;\r\n  color: var(--color-primary);\r\n  font-weight: bold;\r\n}\r\n\r\n/* Markdown basic elements */\r\n.ai-response-content p {\r\n  margin: var(--spacing-2) 0;\r\n  white-space: normal;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.ai-response-content p:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.ai-response-content p:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ai-response-content h1,\r\n.ai-response-content h2,\r\n.ai-response-content h3,\r\n.ai-response-content h4 {\r\n  margin-top: var(--spacing-4);\r\n  margin-bottom: var(--spacing-2);\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n  line-height: 1.3;\r\n}\r\n\r\n.ai-response-content h1:first-child,\r\n.ai-response-content h2:first-child,\r\n.ai-response-content h3:first-child,\r\n.ai-response-content h4:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.ai-response-content h1 {\r\n  font-size: 1.75rem;\r\n  border-bottom: 2px solid var(--color-border);\r\n  padding-bottom: var(--spacing-2);\r\n}\r\n\r\n.ai-response-content h2 {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.ai-response-content h3 {\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.ai-response-content h4 {\r\n  font-size: 1.125rem;\r\n}\r\n\r\n/* Lists */\r\n.ai-response-content ul,\r\n.ai-response-content ol {\r\n  margin: var(--spacing-2) 0;\r\n  padding-left: var(--spacing-5);\r\n}\r\n\r\n.ai-response-content ul:first-child,\r\n.ai-response-content ol:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.ai-response-content ul:last-child,\r\n.ai-response-content ol:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ai-response-content li {\r\n  margin: var(--spacing-1) 0;\r\n}\r\n\r\n/* Blockquotes */\r\n.ai-response-content blockquote {\r\n  border-left: 4px solid var(--color-primary);\r\n  padding: var(--spacing-2) var(--spacing-3);\r\n  margin: var(--spacing-3) 0;\r\n  color: var(--color-text-secondary);\r\n  font-style: italic;\r\n  background: rgba(102, 126, 234, 0.05);\r\n  border-radius: var(--radius-sm);\r\n}\r\n\r\n.ai-response-content blockquote:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.ai-response-content blockquote:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n/* Inline code */\r\n.ai-response-content code {\r\n  background: rgba(0, 0, 0, 0.08);\r\n  padding: 0.125rem 0.375rem;\r\n  border-radius: 3px;\r\n  font-family: 'Courier New', Consolas, Monaco, monospace;\r\n  font-size: 0.875em;\r\n  color: #e83e8c;\r\n}\r\n\r\n/* Code blocks */\r\n.ai-response-content pre {\r\n  background: #1e1e1e;\r\n  color: #d4d4d4;\r\n  padding: var(--spacing-3);\r\n  border-radius: var(--radius-sm);\r\n  overflow-x: auto;\r\n  font-family: 'Courier New', Consolas, Monaco, monospace;\r\n  font-size: 0.875rem;\r\n  line-height: 1.6;\r\n  margin: var(--spacing-3) 0;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.ai-response-content pre:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.ai-response-content pre:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ai-response-content pre code {\r\n  background: transparent;\r\n  padding: 0;\r\n  color: inherit;\r\n  font-size: inherit;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n/* Tables */\r\n.ai-response-content table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin: var(--spacing-4) 0;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.ai-response-content table thead {\r\n  background: var(--color-bg-primary);\r\n}\r\n\r\n.ai-response-content table th,\r\n.ai-response-content table td {\r\n  padding: var(--spacing-2) var(--spacing-3);\r\n  border: 1px solid var(--color-border);\r\n  text-align: left;\r\n}\r\n\r\n.ai-response-content table th {\r\n  font-weight: 600;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.ai-response-content table tr:nth-child(even) {\r\n  background: rgba(0, 0, 0, 0.02);\r\n}\r\n\r\n/* Links */\r\n.ai-response-content a {\r\n  color: var(--color-primary);\r\n  text-decoration: none;\r\n  border-bottom: 1px solid transparent;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.ai-response-content a:hover {\r\n  border-bottom-color: var(--color-primary);\r\n}\r\n\r\n/* Horizontal rule */\r\n.ai-response-content :deep(hr),\r\n.ai-response-content :deep(.content-divider) {\r\n  border: none !important;\r\n  border-top: 2px solid var(--color-border) !important;\r\n  margin-top: 10px !important;\r\n  margin-bottom: 10px !important;\r\n  padding: 0 !important;\r\n  display: block !important;\r\n  clear: both !important;\r\n  width: 100% !important;\r\n  height: 0 !important;\r\n}\r\n\r\n/* Headings (h3) */\r\n.ai-response-content :deep(h3) {\r\n  font-weight: 700;\r\n  color: var(--color-text-primary);\r\n  margin-top: 1.5rem;\r\n  margin-bottom: 0.75rem;\r\n  font-size: 1.125rem;\r\n  line-height: 1.4;\r\n}\r\n\r\n/* Paragraphs */\r\n.ai-response-content :deep(p) {\r\n  margin-top: 0.75rem;\r\n  margin-bottom: 0.75rem;\r\n  line-height: 1.6;\r\n}\r\n\r\n.ai-response-content :deep(p:first-child) {\r\n  margin-top: 0;\r\n}\r\n\r\n.ai-response-content :deep(p:last-child) {\r\n  margin-bottom: 0;\r\n}\r\n\r\n/* Strong/Bold */\r\n.ai-response-content :deep(strong) {\r\n  font-weight: 700;\r\n  color: var(--color-text-primary);\r\n  display: inline;\r\n}\r\n\r\n/* Emphasis/Italic */\r\n.ai-response-content :deep(em) {\r\n  font-style: italic;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: var(--spacing-3);\r\n  padding: var(--spacing-5);\r\n  border-top: 1px solid var(--color-border);\r\n}\r\n\r\n.action-buttons-group {\r\n  display: flex;\r\n  gap: var(--spacing-2);\r\n  align-items: center;\r\n}\r\n\r\n.modal-footer .btn-primary,\r\n.modal-footer .btn-secondary {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-2);\r\n}\r\n\r\n/* AI Stats Section */\r\n.ai-stats .stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: var(--spacing-3);\r\n  padding: var(--spacing-4);\r\n  background: var(--color-bg-secondary);\r\n  border-radius: var(--radius-md);\r\n}\r\n\r\n.post-counters {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\r\n  gap: var(--spacing-3);\r\n  padding: var(--spacing-4);\r\n  background: var(--color-bg-secondary);\r\n  border-radius: var(--radius-md);\r\n  border: 1px solid var(--color-border);\r\n}\r\n\r\n.counter-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: var(--spacing-1);\r\n  padding: var(--spacing-2);\r\n  background: var(--color-bg-elevated);\r\n  border-radius: var(--radius-sm);\r\n}\r\n\r\n.counter-button {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: var(--spacing-1);\r\n  padding: var(--spacing-2);\r\n  background: var(--color-bg-elevated);\r\n  border-radius: var(--radius-sm);\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  width: 100%;\r\n}\r\n\r\n.counter-button:hover {\r\n  background: var(--color-bg-secondary);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.ai-modal-section h3 {\r\n  margin-top: var(--spacing-6);\r\n  padding-top: var(--spacing-4);\r\n  border-top: 1px solid var(--color-border);\r\n}\r\n\r\n.counter-icon {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.counter-label {\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n  font-weight: 500;\r\n}\r\n\r\n.counter-value {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  color: var(--color-primary);\r\n}\r\n\r\n/* Progress bar in modal */\r\n.generation-progress-bar {\r\n  margin-bottom: var(--spacing-4);\r\n  padding: var(--spacing-3);\r\n  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\r\n  border-radius: var(--radius-md);\r\n  border: 2px solid var(--color-primary);\r\n}\r\n\r\n.progress-bar-container {\r\n  width: 100%;\r\n  height: 12px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  border-radius: var(--radius-full);\r\n  overflow: hidden;\r\n  margin-bottom: var(--spacing-2);\r\n}\r\n\r\n.progress-bar-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, var(--color-primary) 0%, #667eea 100%);\r\n  border-radius: var(--radius-full);\r\n  transition: width 0.5s ease;\r\n  box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);\r\n  animation: pulse-glow 2s ease-in-out infinite;\r\n}\r\n\r\n@keyframes pulse-glow {\r\n  0%, 100% {\r\n    box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 20px rgba(102, 126, 234, 0.8);\r\n  }\r\n}\r\n\r\n.progress-text {\r\n  text-align: center;\r\n  font-weight: 700;\r\n  color: var(--color-primary);\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-1);\r\n}\r\n\r\n.stat-label {\r\n  font-size: 0.875rem;\r\n  color: var(--color-text-secondary);\r\n  font-weight: 500;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 1.125rem;\r\n  color: var(--color-text-primary);\r\n  font-weight: 600;\r\n}\r\n\r\n.stat-value.bricks-value {\r\n  color: #f59e0b;\r\n}\r\n\r\n/* Share and Copy Buttons */\r\n.btn-share,\r\n.btn-copy {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: var(--spacing-2);\r\n  padding: var(--spacing-3) var(--spacing-4);\r\n  border: none;\r\n  border-radius: var(--radius-md);\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  font-size: 0.9375rem;\r\n}\r\n\r\n.btn-share {\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, #667eea 100%);\r\n  color: white;\r\n}\r\n\r\n.btn-share:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.btn-copy {\r\n  background: var(--color-bg-secondary);\r\n  color: var(--color-text-primary);\r\n  border: 1px solid var(--color-border);\r\n}\r\n\r\n.btn-copy:hover {\r\n  background: var(--color-bg-primary);\r\n  border-color: var(--color-primary);\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .ai-stats .stats-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .wall-banner {\r\n    height: 120px;\r\n  }\r\n  \r\n  .wall-avatar {\r\n    width: 80px;\r\n    height: 80px;\r\n    margin-top: -40px;\r\n  }\r\n  \r\n  .wall-title {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  /* Mobile modal layout */\r\n  .modal-overlay {\r\n    padding: 0 !important;\r\n    align-items: flex-start !important;\r\n  }\r\n  \r\n  .modal-content {\r\n    max-height: 100vh !important;\r\n    height: 100vh !important;\r\n    max-width: 100% !important;\r\n    border-radius: 0 !important;\r\n    touch-action: pan-y !important;\r\n  }\r\n  \r\n  .modal-body {\r\n    -webkit-overflow-scrolling: touch;\r\n    touch-action: pan-y;\r\n    overflow-y: scroll !important;\r\n  }\r\n  \r\n  /* Mobile modal footer layout */\r\n  .modal-footer {\r\n    flex-direction: column;\r\n    gap: var(--spacing-2);\r\n    padding: var(--spacing-3);\r\n  }\r\n  \r\n  .action-buttons-group {\r\n    width: 100%;\r\n    gap: var(--spacing-2);\r\n  }\r\n  \r\n  .btn-share,\r\n  .btn-copy {\r\n    flex: 1;\r\n    padding: var(--spacing-3);\r\n    font-size: 0.875rem;\r\n    white-space: nowrap;\r\n    touch-action: manipulation;\r\n  }\r\n  \r\n  .modal-footer .btn-secondary {\r\n    width: 100%;\r\n    padding: var(--spacing-3);\r\n    touch-action: manipulation;\r\n  }\r\n  \r\n  .btn-close {\r\n    touch-action: manipulation;\r\n  }\r\n  \r\n  /* Mobile toast positioning - top center */\r\n  .toast-notification {\r\n    top: 1rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    right: auto;\r\n    bottom: auto;\r\n    width: auto;\r\n    max-width: calc(100% - 3rem);\r\n    min-height: auto; /* No min height */\r\n    max-height: 2.5rem; /* Limit height */\r\n    padding: 0.4rem 0.75rem; /* Very tight padding */\r\n    font-size: 0.75rem; /* Even smaller font (12px) */\r\n    line-height: 1.4; /* Tighter line height */\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    animation: slideInDown 0.3s ease-out, fadeOut 0.3s ease-in 1.7s;\r\n  }\r\n}\r\n\r\n/* Toast Notification */\r\n.toast-notification {\r\n  position: fixed;\r\n  bottom: 2rem;\r\n  right: 2rem;\r\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\r\n  color: white;\r\n  padding: 1rem 1.5rem;\r\n  border-radius: var(--radius-md);\r\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\r\n  font-weight: 600;\r\n  font-size: 0.9375rem;\r\n  z-index: 10100;\r\n  animation: slideInUp 0.3s ease-out, fadeOut 0.3s ease-in 1.7s;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  pointer-events: none; /* Don't block clicks */\r\n}\r\n\r\n@keyframes slideInUp {\r\n  from {\r\n    transform: translateY(100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes slideInDown {\r\n  from {\r\n    transform: translateX(-50%) translateY(-100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(-50%) translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes fadeOut {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n</style>\r\n"],"names":["props","__props","emit","__emit","status","ref","progress","currentTokens","tokensPerSecond","elapsedTime","estimatedRemaining","promptTokens","completionTokens","totalTokens","contentLength","charsPerSecond","errorMessage","eventSource","timerInterval","clientStartTime","isGenerating","computed","statusIcon","statusClass","statusTitle","statusSubtitle","formatNumber","num","formatTime","ms","seconds","minutes","hours","startTracking","streamUrl","event","data","serverElapsed","stopTracking","error","onMounted","onUnmounted","__expose","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_normalizeClass","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_cache","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","useComments","postId","comments","loading","getPostId","isValidComment","comment","sortBy","sortParam","response","apiClient","err","commentData","newComment","commentId","updatedComment","index","c","parentId","authStore","useAuthStore","commentText","isSubmitting","textareaRef","userAvatar","_a","username","adjustHeight","nextTick","handleSubmit","handleCancel","$event","addComment","updateComment","deleteComment","loadCommentReplies","depth","maxDepth","isEditing","showReplyInput","showReplies","loadingReplies","replies","canEdit","canDelete","canReply","dateString","date","diffMs","diffMins","diffHours","diffDays","startEdit","cancelEdit","handleEditSubmit","text","updated","handleDelete","toggleReply","handleReplySubmit","reply","loadReplies","handleReplyAdded","viewFullThread","_createVNode","CommentInput","ReactionPicker","_Fragment","_renderList","_createBlock","_component_CommentItem","$emit","loadComments","handleSortChange","watch","newComments","handleCommentSubmit","handleCommentUpdated","handleCommentDeleted","_unref","CommentItem","L","T","G","u","I","h","t","n","r","i","s","m","be","Re","Te","E","Oe","F","ie","oe","we","j","ye","Q","Pe","Se","v","U","$e","ae","_e","K","re","Le","Me","ze","Ae","le","Ie","D","W","ue","Ee","pe","Ce","Be","qe","ce","ve","De","he","He","Ze","Ge","Ne","Fe","je","Qe","q","Ue","de","ke","Ke","se","X","We","N","Xe","C","M","Je","ge","w","J","V","o","a","l","z","fe","me","Ve","y","e","__publicField","p","g","d","R","f","O","H","ee","te","ne","xe","Z","A","Y","x","_b","_c","_d","P","$","b","S","B","_","k","limit","marked","useRouter","route","useRoute","loadingPosts","isLoadingPostsRequest","wall","posts","page","hasMorePosts","contentEventSources","progressEventSources","viewedPosts","batchProcessedPosts","isOwnWall","bannerStyle","visiblePosts","post","incrementPostViewCount","postsAPI","batchIncrementViewCounts","postIdsToProcess","id","incrementPostOpenCount","formatDate","loadWall","wallIdToFetch","loadPosts","isPolling","offset","newPosts","updatePostsData","checkForPendingAIPosts","newPostsMap","updatedPost","pendingPosts","startContentStream","stopAllContentStreams","loadMorePosts","createPost","handleGenerationComplete","stopContentStream","handleGenerationError","errorMsg","postIndex","showAIModal","selectedAIPost","_f","jobId","startProgressStream","stopProgressStream","stopAllProgressStreams","truncateText","maxLength","getPreviewHtml","content","plainText","truncated","toastMessage","showToast","displayToast","message","renderedAIContent","rawHtml","averageTokensPerSecond","outputTokens","generationTime","getAverageSpeed","openAIModal","_g","_h","_i","_j","_k","_l","_m","_n","closeAIModal","shareAIResponse","wallId","appId","shareUrl","copyToClipboard","label","toggleLike","handleCommentCreated","aiAppId","newWallId","oldWallId","newAiAppId","$router","AIGenerationProgress","_createTextVNode","_hoisted_35","_hoisted_36","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_54","_hoisted_55","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_o","_hoisted_63","_p","_q","_hoisted_66","media","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","CommentSection","_hoisted_75","_Teleport","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_normalizeStyle","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129"],"mappings":"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","x_google_ignoreList":[5]}